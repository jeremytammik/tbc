<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>
</head>

<!---

- Revit 2023: Parameters Service
  https://youtu.be/cRz7kQz88mA
  2:36 video
  Manage your parameters library more efficiently across projects and locations using the Parameters Service with Revit and the Autodesk Construction Cloud

- 2023 parameters:
  Jesika DiGregorio
  This post is part of my ongoing effort to be proactively prepared for the transition from BuiltInParameter to the ForgeTypeId equivalent ParameterTypeId.
  I have a few questions about how modifications to the ParameterTypeId will be documented. I am trying to ensure that if I reference a particular parameter by ParameterTypeId I can track when I need to handle a change between Revit versions and the new value that should be used, as well as write code to translate serialization that may have been generated by a different version of Revit.
  1. Currently when a BuiltInParameter value is renamed I can easily tell by comparing the enumeration between 2 versions and seeing that two values with the same numeric value have a different enumeration value. The ParameterTypeId doesn't have a corresponding value that can help track renames and there is currently no note in the summary indicating it was renamed. What technique should we use to correlate such a change between Revit versions and now that it was a rename rather than a drop and add?
  Example:
  * 2022 Revit: "Electrial Load Zone Type" 
  RBS_ELECTRICAL_LOAD_ZONE_TYPE = -1153533 
  ParameterTypeId.RbsElectricalLoadZoneType
  * December Preview Build: "Area Based Load Type" 
  RBS_AREA_BASED_LOAD_TYPE = -1153533 
  ParameterTypeId.RbsAreaBasedLoadType
  2. BuiltInParameter has a few "equivalents", values with different names but the same numeric values. Will ParameterTypeId have a similar implementation in the future? In the December Preview Build, it appears that the ParameterTypeId references were renamed in the cases where an equivalent was added to BuiltInParameter for that value.
  Example:
  * Revit 2022: "Spot Top Elevation with Insulation"
  FABRICATION_SPOT_TOP_ELEVATION_INCLUDE_INSULATION_OF_PART = -1140985
  ParameterTypeId.FabricationSpotTopElevationIncludeInsulationOfPart
  * December Preview Build: "Spot Top of Insulation Elevation"
  FABRICATION_SPOT_TOP_ELEVATION_INCLUDE_INSULATION_OF_PART = -1140985
  MEP_SPOT_TOP_ELEVATION_INCLUDE_INSULATION = -1140985
  ParameterTypeId.MepSpotTopElevationIncludeInsulation
  3. If I have an older (from 2022) ForgeTypeId.TypeId value stored for a ParameterTypeId that has been renamed in the new version, will the new version of Revit know that it is equivalent to the one with the new name? 
  Specifically using the old value to create a ForgeTypeId and then either comparing it to one retrieved from a parameter definition using NameEquals(ForgeTypeId other) or use it to call Element.GetParameter(ForgeTypeId parameterTypeId)? 
  I understand the the older version of Revit won't know, but only having one direction to manage is better than both.
  Dec 22, 2021 @ 3:30 PM	 
  David Becroft
  The Factory
  Unified Parameters Service - INTERNAL
  Good morning Jesika, these are great questions, and a Happy New Year to you! You've nailed it, and I hope the rest of my answer won't bum you out too much. Because of the issues you describe, only the ElementId will identify a built-in parameter consistently across Revit versions. The ForgeTypeId string of a built-in parameter is generated from the parameter's symbolic identifier. In your first example, the symbolic identifier changes from one release to the next. In your second example, a new symbolic identifier is introduced and the original one is treated as an alias, but only the new one produces a ForgeTypeId string. To recover the underlying ElementId from a ForgeTypeId string, use [code]ParameterUtils.GetBuiltInParameter(ForgeTypeId)[/code]. For the opposite conversion, use [code]ParameterUtils.GetParameterTypeId(BuiltInParameter)[/code]. 
  To your third question: No, Revit does not know that the old and new ForgeTypeId strings correspond to the same ElementId. [code]ForgeTypeId.NameEquals(ForgeTypeId)[/code] behaves the same way as the default equality comparison operator for ForgeTypeId objects; it simply compares the strings inside the two ForgeTypeId objects while ignoring their version numbers. [code]Element.GetParameter(ForgeTypeId)[/code] maps the given ForgeTypeId to its corresponding ElementId before searching for the matching parameter, but it does not have a record of legacy ForgeTypeId strings for built-in parameters.
  Jan 4, 2022 @ 9:46 AM

- tired of struggling with the Revit add-in security warning about an unsigned add-in saying, the publisher of this add-in could not be verified?
KONRAD SOBON of [archi+lab](https://archi-lab.net) explains how
to [Create a Self-signed Code Signing Certificate](https://archi-lab.net/creating-a-self-signed-code-signing-certificate) for free, valid for the next 17 years or so:
> ... <i>[detailed explanation]</i> ... That’s it! That should create your PFX file that you can now use with signtool, and code sign your Revit plugins for free! This self signed code signing certificate won’t expire for another 17 years so you should be good to go for a while.
Now, be aware of the fact that this self-signed code signing certificate is not the same as one issued to you by a 3rd party. I guess the level of “trust” here would be a little different, but in this particular case, I don’t think it matters to me. I am fed up with paying money to companies that have just atrocious customer support. If you are using these code signing certificates literally to just sign Revit plugins, then there is no reason to obtain one from a 3rd party and pay a hefty price for it on top of all the hoops that they will make you jump through.
I hope this helps some of the AEC development community out there save some money and time.

- main discussion forumthread on resolving this + other threads

- thesde threads mentioined before?

- code snippets
Maycon Freitas
Architect | Dynamo, Revit API Developer & Forge Enthusiast | Blossom Consult
Maycon Freitas  5:23 PM

Hi Jeremy, how are you?
I'm creating this repository on github to share Revit API code snippets with our Revit developers community.
If you're interested in contributing somehow, I would really appreciate.
The idea is to create an open source project to help developers to improve coding performance.
Best regards,
Maycon Freitas.

https://youtu.be/moD7CYUkJHw

RevitAPISnippets: 170+ code lines in 2 minutes (Revit API)

18 May 2022
An example of the use of Revit API snippet codes in Visual Studio.
Using snippets to improve coding performance in Revit API development.

Github Repo:

https://github.com/mayconrfreitas/RevitAPISnippets

Develop Branch with the snippets:

https://github.com/mayconrfreitas/RevitAPISnippets/tree/develop/Snippets/RevitAPI2020

- batch processing and monitoring progress
  Way to check if family is corrupt
  https://forums.autodesk.com/t5/revit-api-forum/way-to-check-if-family-is-corrupt/m-p/11174180

twitter:

the #RevitAPI SDK @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon 

&ndash;
...

linkedin:


#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<center>
<img src="img/" alt="" title="" width="600" height=""/>
<p style="font-size: 80%; font-style:italic"></p>
</center>

-->

### Parameters, Code Snippets, Batch Mode and Self-Signing

Picking up some specaly interesting topics from
the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) and
elsewhere:


####<a name="2"></a> Revit 2023 Parameters Service

In Revit 2023, a new cloud-based parameters service is under evaluation.

Learn all about it in the two-and-a-half-minute video
on [Revit 2023 Parameters Service](https://youtu.be/cRz7kQz88mA).

> Manage your parameters library more efficiently across projects and locations using the Parameters Service with Revit and the Autodesk Construction Cloud

It’s currently in a preview phase with no API, yet.
API support will presumably be coming along after the evaluation phase.

####<a name="3"></a> Roll Your Own Verified Publisher

Are you getting tired of struggling with the Revit add-in security warning about an unsigned add-in saying, *the publisher of this add-in could not be verified*?

Konrad Sobon of [archi+lab](https://archi-lab.net) explains how
to [create a self-signed code signing certificate](https://archi-lab.net/creating-a-self-signed-code-signing-certificate) for yourself for free:

> ... <i>[detailed explanation]</i> ... That’s it!
That should create your PFX file that you can now use with signtool, and code sign your Revit plugins for free!
This self signed code signing certificate won’t expire for another 17 years so you should be good to go for a while.
Now, be aware of the fact that this self-signed code signing certificate is not the same as one issued to you by a 3rd party.
I guess the level of “trust” here would be a little different, but in this particular case, I don’t think it matters to me.
I am fed up with paying money to companies that have just atrocious customer support.
If you are using these code signing certificates literally to just sign Revit plugins, then there is no reason to obtain one from a 3rd party and pay a hefty price for it on top of all the hoops that they will make you jump through.
I hope this helps some of the AEC development community out there save some money and time.

Thank you very much, Konrad for digging in so deep and sharing this very helpful approach!

For the sake of completeness, you can also check out
Konrad's previous post on [code signing of your Revit plug-ins](http://archi-lab.net/code-signing-of-your-revit-plug-ins),
the main [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread
on [Code signing of Revit Addins](https://forums.autodesk.com/t5/revit-api-forum/code-signing-of-revit-addins/m-p/5981560)
and previous articles on this by The Building Coder:

<ul>
<li><a href="http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html#2.4">What's New in the Revit 2017 API &ndash; Code signing of Revit Addins</a></li>
<li><a href="http://thebuildingcoder.typepad.com/blog/2016/09/trusted-signature-motivation-and-fishing.html#2">How Does Code Signing of Revit Add-Ins Increase Security?</a></li>
<li><a href="https://thebuildingcoder.typepad.com/blog/2020/09/code-signing-preview-and-element-type-predicates.html#2">Revit Add-In Code Signing YAML</a> to automate code signing in CI</li>
</ul>

####<a name="4"></a> Revit API Code Snippet Repository

Maycon Freitas, architect, Dynamo, Revit API Developer and Forge enthusiast at [Blossom Consult](https://www.blossomconsult.com),
shares a new collection of Revit API code snippets and invites the community to join in:

> I'm creating the [RevitAPISnippets GitHub repository](https://github.com/mayconrfreitas/RevitAPISnippets) to
share Revit API code snippets with our Revit developer community.
If you're interested in contributing somehow, I would really appreciate.
The idea is to create an open source project to help developers to improve coding performance.

More about this project in the two-and-a-half-minute video
on [RevitAPISnippets: 170+ code lines in 2 minutes (Revit API)](https://youtu.be/moD7CYUkJHw).

####<a name="5"></a> Batch Processing and Monitoring Progress

[Way to check if family is corrupt](https://forums.autodesk.com/t5/revit-api-forum/way-to-check-if-family-is-corrupt/m-p/11174180)

<center>
<img src="img/.png" alt="" title="" width="100"/> <!-- 1345 -->
</center>


<pre class="code">
</pre>



**Question:** 

**Answer:** 

