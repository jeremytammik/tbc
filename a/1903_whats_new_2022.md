<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>

<style>
  ul.toc { list-style-type: none; }
  h1.new { font-size: 150%; }
  h2.new { font-size: 150%; }
  h3.new { font-size: 120%; }
  h4.new { font-size: 120%; }
</style>

</head>

<!---
  
twitter:

 the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon 

&ndash;
...

linkedin:

#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<center>
<img src="img/" alt="" title="" width="600"/>
<p style="font-size: 80%; font-style:italic"></p>
</center>

-->

### What's New in the Revit 2022 API

The Revit 2022 API includes exciting enhancements for add-in developers, including numerous developer wishes and requests that have now been explicitly addressed:

- [Information sources](#1) 
- [What's new in previous versions](#2) 
- [Detailed TOC of major changes and renovations](#4)

####<a name="1"></a>Information Sources

The information below is based on the contents of the *Revit Platform API Changes and Additions.docx* document included with
the Revit 2022 SDK, the software developers kit available from 
the [Revit Developer Centre](https://www.autodesk.com/developer-network/platform-technologies/revit).

It is also provided in the section on *What's New* in the Revit 2022 API help file `RevitAPI.chm` included with the SDK:

<center>
<img src="img/whats_new_2022.png" alt="Revit 2022 API help on What's New" title="Revit 2022 API help on What's New" width="100"/>
</center>

For convenient, easy and effective web searching, this blog post provides an cleaned-up online HTML version of that information with numbering and table of contents added, as well as the following PDF printout of the original document included in the SDK:

- [Revit_Platform_API_Changes_and_Additions_2022.pdf](zip/Revit_Platform_API_Changes_and_Additions_2022.pdf)

The *What's New* section and the *Changes and Additions* document provide important information, both for discovering and exploring the newly added API functionality and for later reference.

If you encounter any issues migrating your existing add-ins between different versions, this is one of the first places to look.

For detailed information on all other aspects of the Revit API, please refer to the rest of the API documentation and samples provided in the SDK.

The most important things to install and always keep at hand are:

- The Revit API help file `RevitAPI.chm`
- The Visual Studio solution containing all the SDK samples, `Samples\SDKSamples.sln`

You will need both of these regularly for research on how to solve specific Revit API programming tasks.

More in-depth official explanations and background information is provided by the
online [Revit API Developers Guide](http://help.autodesk.com/view/RVT/2021/ENU/?guid=Revit_API_Revit_API_Developers_Guide_html) included 
in the [Revit 2021 online help](http://help.autodesk.com/view/RVT/2021/ENU).


####<a name="2"></a>What's New in Previous Versions

Here are links to previous discussions of *What's New in the Revit API*:

- [What's New in the Revit 2010 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2010-api.html)
- [What's New in the Revit 2011 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2011-api.html)
- [What's New in the Revit 2012 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2012-api.html)
- [What's New in the Revit 2013 API](http://thebuildingcoder.typepad.com/blog/2013/03/whats-new-in-the-revit-2013-api.html)
- [What's New in the Revit 2014 API](http://thebuildingcoder.typepad.com/blog/2013/04/whats-new-in-the-revit-2014-api.html)
- [What's New in the Revit 2015 API](http://thebuildingcoder.typepad.com/blog/2014/04/whats-new-in-the-revit-2015-api.html)
- [What's New in the Revit 2016 API](http://thebuildingcoder.typepad.com/blog/2015/04/whats-new-in-the-revit-2016-api.html)
- [What's New in the Revit 2017 API](http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html)
- [What's New in the Revit 2017.1 API](http://thebuildingcoder.typepad.com/blog/2016/11/whats-new-in-the-revit-20171-api.html)
- [What's New in the Revit 2018 API](http://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html)
- [Revit 2018.1 and the Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/08/revit-20181-and-the-visual-materials-api.html)
- [Revit 2018.1.1 and 2018.1 API Docs Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html)
- [Revit 2018.1 Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/11/modifying-material-visual-appearance.html)
- [What's New in the Revit 2018.2 API](http://thebuildingcoder.typepad.com/blog/2017/12/whats-new-in-the-revit-20182-api.html)
- [What's New in the Revit 2019 API](http://thebuildingcoder.typepad.com/blog/2018/04/whats-new-in-the-revit-2019-api.html)
- [What's New in the Revit 2020 API](https://thebuildingcoder.typepad.com/blog/2019/04/whats-new-in-the-revit-2020-api.html)
- [What's New in the Revit 2020.1 API](https://thebuildingcoder.typepad.com/blog/2019/09/whats-new-in-the-revit-20201-api.html)

####<a name="4"></a>Detailed TOC of Major Changes and Renovations

<!-- <h1>Major changes and renovations to the Revit API -->

<ul class="toc">
<li>1 <a href="#4.1">API CHANGES</a></li>
<ul class="toc">
<li>1.1 <a href="#4.1.1">Parameter API changes (migration to ForgeTypeId)</a></li>
<ul class="toc">
<li>1.1.1 <a href="#4.1.1.1">Changes to Parameter Access APIs</a></li>
<li>1.1.2 <a href="#4.1.1.2">Changes to Parameter Definition APIs</a></li>
<li>1.1.3 <a href="#4.1.1.3">Changes to Shared Parameter Creation and Binding APIs</a></li>
<li>1.1.4 <a href="#4.1.1.4">Changes to GlobalParameter APIs</a></li>
<li>1.1.5 <a href="#4.1.1.5">New and changed utility APIs</a></li>
</ul>
<li>1.2 <a href="#4.1.2">Renamed/replaced Parameter Group members</a></li>
<li>1.3 <a href="#4.1.3">Document & Worksharing API changes</a></li>
<ul class="toc">
<li>1.3.1 <a href="#4.1.3.1">SaveAsCloudModel() now supports save of a new Revit Cloud Worksharing central model</a></li>
<li>1.3.2 <a href="#4.1.3.2">Revit Links to Cloud Models</a></li>
<li>1.3.3 <a href="#4.1.3.3">Worksharing API exception changes</a></li>
<li>1.3.4 <a href="#4.1.3.4">Worksharing API replacements</a></li>
</ul>
<li>1.4 <a href="#4.1.4">Sketched element API changes</a></li>
<ul class="toc">
<li>1.4.1 <a href="#4.1.4.1">Floor creation API replacements</a></li>
</ul>
<li>1.5 <a href="#4.1.5">IndependentTag API Changes</a></li>
<ul class="toc">
<li>1.5.1 <a href="#4.1.5.1">Rotation</a></li>
<li>1.5.2 <a href="#4.1.5.2">Multiple References</a></li>
</ul>
<li>1.6 <a href="#4.1.6">Revision API changes</a></li>
<li>1.7 <a href="#4.1.7">Structural reinforcement API changes</a></li>
<li>1.8 <a href="#4.1.8">Import/Export API changes</a></li>
<ul class="toc">
<li>1.8.1 <a href="#4.1.8.1">Import() and Link() methods now treat View as optional</a></li>
<li>1.8.2 <a href="#4.1.8.2">Export API replacements</a></li>
</ul>
<li>1.9 <a href="#4.1.9">MEP API changes</a></li>
<ul class="toc">
<li>1.9.1 <a href="#4.1.9.1">Electrical API changes</a></li>
<li>1.9.2 <a href="#4.1.9.2">Fabrication API changes</a></li>
</ul>
<li>1.10 <a href="#4.1.10">PostableCommand enumeration update</a></li>
<li>1.11 <a href="#4.1.11">BuiltInFailures changes</a></li>
<li>1.12 <a href="#4.1.12">Filter API change</a></li>
<li>1.13 <a href="#4.1.13">Ruby macros no longer supported</a></li>
<li>1.14 <a href="#4.1.14">TransmissionData API change</a></li>
<li>1.15 <a href="#4.1.15">Removal of obsoleted APIs</a></li>
</ul>
<li>2 <a href="#4.2">API ADDITIONS</a></li>
<ul class="toc">
<li>2.1 <a href="#4.2.1">Sketched Elements API</a></li>
<ul class="toc">
<li>2.1.1 <a href="#4.2.1.1">Ceiling creation</a></li>
<li>2.1.2 <a href="#4.2.1.2">Floor APIs</a></li>
<li>2.1.3 <a href="#4.2.1.3">Wall APIs</a></li>
<li>2.1.4 <a href="#4.2.1.4">Slanted and Tapered Walls</a></li>
<li>2.1.5 <a href="#4.2.1.5">Sketch APIs</a></li>
<li>2.1.6 <a href="#4.2.1.6">Editing Sketches with SketchEditScope</a></li>
<li>2.1.7 <a href="#4.2.1.7">Boundary validation for sketched elements</a></li>
<li>2.1.8 <a href="#4.2.1.8">CompoundStructure API</a></li>
</ul>
<li>2.2 <a href="#4.2.2">Color Fill API</a></li>
<ul class="toc">
<li>2.2.1 <a href="#4.2.2.1">Color Fill Schemes</a></li>
<li>2.2.2 <a href="#4.2.2.2">Color Fill Scheme Entries</a></li>
<li>2.2.3 <a href="#4.2.2.3">View access to Color Fills</a></li>
<li>2.2.4 <a href="#4.2.2.4">Color Fill Legends</a></li>
</ul>
<li>2.3 <a href="#4.2.3">Export API additions</a></li>
<ul class="toc">
<li>2.3.1 <a href="#4.2.3.1">Export to PDF</a></li>
<li>2.3.2 <a href="#4.2.3.2">PDF Export Settings</a></li>
</ul>
<li>2.4 <a href="#4.2.4">Civil Alignments API</a></li>
<li>2.5 <a href="#4.2.5">DirectShape API Additions</a></li>
<ul class="toc">
<li>2.5.1 <a href="#4.2.5.1">Reference Curves, Planes, and Points</a></li>
<li>2.5.2 <a href="#4.2.5.2">External Geometry</a></li>
<li>2.5.3 <a href="#4.2.5.3">Custom Family names</a></li>
</ul>
<li>2.6 <a href="#4.2.6">Document & Worksharing API additions</a></li>
<ul class="toc">
<li>2.6.1 <a href="#4.2.6.1">Cloud Model API additions</a></li>
<li>2.6.2 <a href="#4.2.6.2">OpenOptions API</a></li>
</ul>
<li>2.7 <a href="#4.2.7">View API additions</a></li>
<ul class="toc">
<li>2.7.1 <a href="#4.2.7.1">Label for views on sheets (Viewport)</a></li>
<li>2.7.2 <a href="#4.2.7.2">Callout view</a></li>
<li>2.7.3 <a href="#4.2.7.3">Grids in 3D views</a></li>
</ul>
<li>2.8 <a href="#4.2.8">Graphics API additions</a></li>
<ul class="toc">
<li>2.8.1 <a href="#4.2.8.1">Temporary in-canvas graphics</a></li>
</ul>
<li>2.9 <a href="#4.2.9">Label API additions</a></li>
<li>2.10 <a href="#4.2.10">Parameter API additions</a></li>
<li>2.11 <a href="#4.2.11">Dimension API additions</a></li>
<ul class="toc">
<li>2.11.1 <a href="#4.2.11.1">Dimension layout</a></li>
<li>2.11.2 <a href="#4.2.11.2">DimensionType prefix/suffix</a></li>
</ul>
<li>2.12 <a href="#4.2.12">Category API additions</a></li>
<ul class="toc">
<li>2.12.1 <a href="#4.2.12.1">Built in Categories</a></li>
</ul>
<li>2.13 <a href="#4.2.13">Shared Coordinates API additions</a></li>
<ul class="toc">
<li>2.13.1 <a href="#4.2.13.1">Reset Shared Coordinates</a></li>
<li>2.13.2 <a href="#4.2.13.2">Clipped state of BasePoint</a></li>
</ul>
<li>2.14 <a href="#4.2.14">Revision API additions</a></li>
<li>2.15 <a href="#4.2.15">Phasing API additions</a></li>
<li>2.16 <a href="#4.2.16">Geometry API additions</a></li>
<li>2.17 <a href="#4.2.17">Point Cloud API additions</a></li>
<li>2.18 <a href="#4.2.18">Schedule API additions</a></li>
<ul class="toc">
<li>2.18.1 <a href="#4.2.18.1">Multiple Value Indication - schedule customization</a></li>
</ul>
<li>2.19 <a href="#4.2.19">Import API additions</a></li>
<ul class="toc">
<li>2.19.1 <a href="#4.2.19.1">Import/Link Rhino</a></li>
</ul>
<li>2.20 <a href="#4.2.20">Structural API additions</a></li>
<ul class="toc">
<li>2.20.1 <a href="#4.2.20.1">Moving individual rebar in a Rebar Set</a></li>
<li>2.20.2 <a href="#4.2.20.2">Removing individual bars from a Rebar Set</a></li>
<li>2.20.3 <a href="#4.2.20.3">Moving and Removing bars owned by PathReinforcement</a></li>
<li>2.20.4 <a href="#4.2.20.4">Area Reinforcement Layers</a></li>
<li>2.20.5 <a href="#4.2.20.5">Rebar conversion</a></li>
<li>2.20.6 <a href="#4.2.20.6">Rebar geometry</a></li>
<li>2.20.7 <a href="#4.2.20.7">Freeform Rebar</a></li>
</ul>
<li>2.21 <a href="#4.2.21">MEP API additions</a></li>
<ul class="toc">
<li>2.21.1 <a href="#4.2.21.1">Building and Space Type additions</a></li>
<li>2.21.2 <a href="#4.2.21.2">Zone additions</a></li>
<li>2.21.3 <a href="#4.2.21.3">Mechanical Systems Analysis Set Points</a></li>
<li>2.21.4 <a href="#4.2.21.4">Analysis Report Style</a></li>
<li>2.21.5 <a href="#4.2.21.5">MEP Hidden Line Settings</a></li>
<li>2.21.6 <a href="#4.2.21.6">Electrical Panel Schedule</a></li>
<li>2.21.7 <a href="#4.2.21.7">Conversion to Fabrication</a></li>
</ul>
<li>2.22 <a href="#4.2.22">Energy Analysis API additions</a></li>
</ul>
</ul>

<p></p>

<center>
<div style="border-style:solid; border-width:2px 0px 2px 0px">
<a name="4.1"></a><h1 class="new" style="font-weight: bold">API Changes</h1>
</div>
</center>

<a name="4.1.1"></a><h2 class="new">1.1. .NET 4.8</h2>

Revit's API assemblies are built using .NET 4.8.

At a minimum, add-ons will need to target .NET 4.8 for Revit 2021.

<a name="4.1.2"></a><h2 class="new">1.2. Requirement for Transport Layer Security (TLS) Setting in Revit Add-ons</h2>

When your add-on requires Internet communications and a specific security protocol is involved, if the protocol is TLS 1.0, 1.1 or 1.2, you don’t need to write any setting in the add-on, you may just take advantage of the native TLS support in Revit and its target .NET Framework. The complexities due to variety of Windows versions as well as .NET Framework versions have been well handled in Revit.

If the addon still needs to specify a security protocol or its version, do not hard-code it exclusively, e.g. by directly assigning the protocol/version to the application-wide property ServicePointManager.SecurityProtocol. This will override Revit’s native TLS configuration, which is critical for Revit to communicate with various Autodesk cloud services. A problematic setting is like

<pre>
  System.Net.ServicePointManager.SecurityProtocol
    = System.Net.SecurityProtocolType.Tls12;
</pre>

Instead you need to specify the protocol/version inclusively, e.g. by using bitwise OR (logical OR) on the application-wide property ServicePointManager.SecurityProtocol. A correct setting is like

<pre>
  System.Net.ServicePointManager.SecurityProtocol
    |= System.Net.SecurityProtocolType.Tls12;
</pre>

<a name="4.1.3"></a><h2 class="new">1.3. Units API changes</h2>

Revit has converted to use an external reference to unit definitions defined in Forge schemas.

In the Autodesk.Revit.DB namespace, the enumerations DisplayUnitType, UnitSymbolType, and UnitType have been deprecated in favor of a potentially extensible set of units, symbols, and unit types. The new class:

- Autodesk.Revit.DB.ForgeTypeId

represents an identifier for a unit, symbol, or other object, and is now used throughout the Revit API to identify units of measurement, symbols, and unit types. Unit types are now referred to as "specs" to avoid confusion with units themselves.

A ForgeTypeId instance holds a string, called a "typeid", that uniquely identifies a Forge schema. A Forge schema is a JSON document describing a data structure, supporting data interchange between applications. A typeid string includes a namespace and version number and may look something like "autodesk.spec.aec:length-1.0.0" or "autodesk.unit.unit:meters-1.0.0". By default, comparison of ForgeTypeId values in the Revit API ignores the version number.

The new classes:

- Autodesk.Revit.DB.UnitTypeId
- Autodesk.Revit.DB.SymbolTypeId
- Autodesk.Revit.DB.SpecTypeId 

contain a default set of named public constant properties of type ForgeTypeId. These values can be used in code replacing values of the deprecated DisplayUnitType, UnitSymbolType, and UnitType enumerations.

For example, where you previously used DisplayUnitType.DUT_WATTS_PER_SQUARE_METER_KELVIN, you would now use UnitTypeId.WattsPerSquareMeterKelvin. Where you previously used UnitType.UT_HVAC_Density, you would now use SpecTypeId.HvacDensity.

The UnitUtils class now offers a set of new methods for mapping between enumeration values and ForgeTypeId values to assist clients in migrating code to ForgeTypeId:

- UnitUtils.IsSymbol()
- UnitUtils.GetSpecTypeId()
- UnitUtils.GetUnitType()
- UnitUtils.GetUnitTypeId()
- UnitUtils.GetDisplayUnitType()
- UnitUtils.GetSymbolTypeId()
- UnitUtils.GetUnitSymbolType()

Some of the preceding methods are new but are already deprecated. They have been added to the API only to assist clients in migrating code from the old enumerations to the ForgeTypeId class.

<a name="4.1.3.1"></a><h3 class="new">1.3.1. List of deprecated and replaced APIs related to units</h2>

Deprecated enumerations in Autodesk.Revit.DB:

- Deprecated &rarr; Replacement
- DisplayUnitType &rarr; UnitTypeId
- UnitSymbolType &rarr; SymbolTypeId
- UnitType &rarr; SpecTypeId

Autodesk.Revit.DB.UnitUtils:

- Deprecated &rarr; Replacement
- static double Convert(double, DisplayUnitType, DisplayUnitType) &rarr; static double Convert(double, ForgeTypeId currentUnitTypeId, ForgeTypeId desiredUnitTypeId)
- static double ConvertFromInternalUnits(double, DisplayUnitType) &rarr; static double ConvertFromInternalUnits(double, ForgeTypeId unitTypeId)
- static double ConvertToInternalUnits(double, DisplayUnitType) &rarr; static double ConvertToInternalUnits(double, ForgeTypeId unitTypeId)
- static bool IsValidDisplayUnit(DisplayUnitType) &rarr; static bool IsUnit(ForgeTypeId unitTypeId)
- static List<DisplayUnitType> GetValidDisplayUnits() &rarr; static List<ForgeTypeId> GetAllUnits()
- static bool IsValidDisplayUnit(UnitType, DisplayUnitType) &rarr; static bool IsValidUnit(ForgeTypeId specTypeId, ForgeTypeId unitTypeId)
- static List<DisplayUnitType> GetValidDisplayUnits(UnitType) &rarr; static List<ForgeTypeId> GetValidUnits(ForgeTypeId specTypeId)
- static string GetTypeCatalogString(DisplayUnitType) &rarr; static string GetTypeCatalogStringForUnit(ForgeTypeId unitTypeId)
- static bool IsValidUnitType(UnitType) &rarr; static bool IsSpec(ForgeTypeId specTypeId)
- static List<UnitType> GetValidUnitTypes() &rarr; static List<ForgeTypeId> GetAllSpecs()
- static UnitGroup GetUnitGroup(UnitType) &rarr; static UnitGroup GetUnitGroup(ForgeTypeId specTypeId)
- static string GetTypeCatalogString(UnitType) &rarr; static string GetTypeCatalogStringForSpec(ForgeTypeId specTypeId)

Autodesk.Revit.DB.ExtensibleStorage.Entity:

- Deprecated &rarr; Replacement
- FieldType Get(Field, DisplayUnitType) &rarr; FieldType Get(Field, ForgeTypeId unitTypeId)
- FieldType Get(string, DisplayUnitType) &rarr; FieldType Get(string, ForgeTypeId unitTypeId)
- void Set(Field, FieldType, DisplayUnitType) &rarr; void Set(Field, FieldType, ForgeTypeId unitTypeId)
- void Set(string, FieldType, DisplayUnitType) &rarr; void Set(string, FieldType, ForgeTypeId unitTypeId)

Autodesk.Revit.DB.FamilyParameter:

- Deprecated &rarr; Replacement
- property DisplayUnitType DisplayUnitType (get) &rarr; ForgeTypeId GetUnitTypeId()

Autodesk.Revit.DB.Parameter:

- Deprecated &rarr; Replacement
- property DisplayUnitType DisplayUnitType (get) &rarr; ForgeTypeId GetUnitTypeId()

Autodesk.Revit.DB.Definition:

- Deprecated &rarr; Replacement
- property UnitType UnitType (get) &rarr; ForgeTypeId GetSpecTypeId()

Autodesk.Revit.DB.Visual.AssetPropertyDistance:

- Deprecated &rarr; Replacement
- property DisplayUnitType DisplayUnitType (get) &rarr; ForgeTypeId GetUnitTypeId()

Autodesk.Revit.DB.Units:

- Deprecated &rarr; Replacement
- FormatOptions GetFormatOptions(UnitType) &rarr; FormatOptions GetFormatOptions(ForgeTypeId specTypeId)
- void SetFormatOptions(UnitType, FormatOptions) &rarr; void SetFormatOptions(ForgeTypeId specTypeId, FormatOptions)
- static bool IsModifiableUnitType(UnitType) &rarr; static bool IsModifiableSpec(ForgeTypeId specTypeId)
- static List<UnitType> GetModifiableUnitTypes() &rarr; static List<ForgeTypeId> GetModifiableSpecs()

Autodesk.Revit.DB.DimensionType:

- Deprecated &rarr; Replacement
- property UnitType UnitType (get) &rarr; ForgeTypeId GetSpecTypeId()

Autodesk.Revit.DB.ExtensibleStorage.Field:

- Deprecated &rarr; Replacement
- bool CompatibleDisplayUnitType(DisplayUnitType) &rarr; bool CompatibleUnit(ForgeTypeId unitTypeId)
- property UnitType UnitType (get) &rarr; ForgeTypeId GetSpecTypeId()

Autodesk.Revit.DB.ExtensibleStorage.FieldBuilder:

- Deprecated &rarr; Replacement
- FieldBuilder SetUnitType(UnitType) &rarr; FieldBuilder SetSpec(ForgeTypeId specTypeId)

Autodesk.Revit.DB.FamilySizeTableColumn:

- Deprecated &rarr; Replacement
- property DisplayUnitType DisplayUnitType (get) &rarr; ForgeTypeId GetUnitTypeId()
- property UnitType UnitType (get) &rarr; ForgeTypeId GetSpecTypeId()

Autodesk.Revit.DB.FormatOptions:

- Deprecated &rarr; Replacement
- FormatOptions(DisplayUnitType) &rarr; FormatOptions(ForgeTypeId unitTypeId)
- FormatOptions(DisplayUnitType, UnitSymbolType) &rarr; FormatOptions(ForgeTypeId unitTypeId, ForgeTypeId symbolTypeId)
- FormatOptions(DisplayUnitType, double) &rarr; This constructor has not been replaced. Please use property assignment to set the accuracy.
- FormatOptions(DisplayUnitType, UnitSymbolType, double) &rarr; This constructor has not been replaced. Please use property assignment to set the accuracy.
- property DisplayUnitType DisplayUnits (get/set) &rarr; ForgeTypeId GetUnitTypeId() and void SetUnitTypeId(ForgeTypeId unitTypeId)
- property UnitSymbolType UnitSymbol (get/set) &rarr; ForgeTypeId GetSymbolTypeId() and void SetSymbolTypeId(ForgeTypeId symbolTypeId)
- static bool CanHaveUnitSymbol(DisplayUnitType) &rarr; static bool CanHaveSymbol(ForgeTypeId unitTypeId)
- bool CanHaveUnitSymbol() &rarr; bool CanHaveSymbol()
- static bool IsValidUnitSymbol(DisplayUnitType, UnitSymbolType) &rarr; static bool IsValidSymbol(ForgeTypeId unitTypeId, ForgeTypeId symbolTypeId)
- bool IsValidUnitSymbol(UnitSymbolType) &rarr; bool IsValidSymbol(ForgeTypeId symbolTypeId)
- static List<UnitSymbolType> GetValidUnitSymbols(DisplayUnitType) &rarr; static List<ForgeTypeId> GetValidSymbols(ForgeTypeId unitTypeId)
- List<UnitSymbolType> GetValidUnitSymbols() &rarr; List<ForgeTypeId> GetValidSymbols()
- static bool IsValidAccuracy(DisplayUnitType, double) &rarr; static bool IsValidAccuracy(ForgeTypeId unitTypeId, double accuracy)
- static bool CanSuppressTrailingZeros(DisplayUnitType) &rarr; static bool CanSuppressTrailingZeros(ForgeTypeId unitTypeId)
- static bool CanSuppressLeadingZeros(DisplayUnitType) &rarr; static bool CanSuppressLeadingZeros(ForgeTypeId unitTypeId)
- static bool CanSuppressSpaces(DisplayUnitType) &rarr; static bool CanSuppressSpaces(ForgeTypeId unitTypeId)
- static bool CanUsePlusPrefix(DisplayUnitType) &rarr; static bool CanUsePlusPrefix(ForgeTypeId unitTypeId)
- bool IsValidForUnitType(UnitType) &rarr; bool IsValidForSpec(ForgeTypeId specTypeId)

Autodesk.Revit.DB.LabelUtils:

- Deprecated &rarr; Replacement
- static string GetLabelFor(DisplayUnitType) &rarr; static string GetLabelForUnit(ForgeTypeId unitTypeId)
- static string GetLabelFor(UnitSymbolType) &rarr; static string GetLabelForSymbol(ForgeTypeId symbolTypeId)
- static string GetLabelFor(UnitType) &rarr; static string GetLabelForSpec(ForgeTypeId specTypeId)

Autodesk.Revit.DB.Structure.ReinforcementRoundingManager:

- Deprecated &rarr; Replacement
- property DisplayUnitType LengthDisplayUnit (get) &rarr; ForgeTypeId GetLengthUnitTypeId()

Autodesk.Revit.DB.ScheduleField:

- Deprecated &rarr; Replacement
- property UnitType UnitType (get) &rarr; ForgeTypeId GetSpecTypeId()

Autodesk.Revit.DB.TableSectionData:

- Deprecated &rarr; Replacement
- UnitType GetCellUnitType(int, int) &rarr; ForgeTypeId GetCellSpec(int, int)

Autodesk.Revit.DB.UnitFormatUtils:

- Deprecated &rarr; Replacement
- static string Format(Units, UnitType, double, bool, bool, FormatValueOptions) and static string Format(Units, UnitType, double, bool, FormatValueOptions) &rarr; static string Format(Units, ForgeTypeId specTypeId, double, bool, FormatValueOptions) &ndash; Note: The "maxAccuracy" option has not been replaced. Please specify the desired precision explicitly.
- static string Format(Units, UnitType, double, bool, bool) and static string Format(Units, UnitType, double, bool) &rarr; static string Format(Units, ForgeTypeId specTypeId, double, bool) &ndash; Note: The "maxAccuracy" option has not been replaced. Please specify the desired precision explicitly.
- static bool TryParse(Units, UnitType, string, ValueParsingOptions, double) &rarr; static bool TryParse(Units, ForgeTypeId specTypeId, string, ValueParsingOptions, double)
- static bool TryParse(Units, UnitType, string, ValueParsingOptions, double, string) &rarr; static bool TryParse(Units, ForgeTypeId specTypeId, string, ValueParsingOptions, double, string)
- static bool TryParse(Units, UnitType, string, double) &rarr; static bool TryParse(Units, ForgeTypeId specTypeId, string, double)
- static bool TryParse(Units, UnitType, string, double, string) &rarr; static bool TryParse(Units, ForgeTypeId specTypeId, string, double, string)

<a name="4.1.4"></a><h2 class="new">1.4. Structural Connections API changes</h2>

- Deprecated member &rarr; Replacement &ndash; Notes
- StructuralConnectionHandler.Create(Document, IList&lt;ElementId&gt;) &rarr; StructuralConnectionHandler.CreateGenericConnection() &ndash; The new method provides an easier and friendlier way to create a generic connection.

<a name="4.1.5"></a><h2 class="new">1.5. Electrical API changes</h2>

- Deprecated member &rarr; Replacement &ndash; Notes
- MEPModel.ElectricalSystems &rarr; MEPModel.GetElectricalSystems() &ndash; The new method returns an ISet&lt;&gt; containing the systems.
- MEPModel.AssignedElectricalSystems &rarr; MEPModel.GetAssignedElectricalSystems() &ndash; The new method returns an ISet&lt;&gt; containing the systems.
- ElectricalSystemSet &rarr; N/A &ndash; new methods will use .NET collections 
- ElectricalSystemSetIterator &rarr; N/A &ndash; new methods will use .NET collections 
- PanelScheduleData.IsThirdPhaseHidden &rarr; PanelScheduleData.IsUnusedPhaseHidden

<a name="4.1.6"></a><h2 class="new">1.6. Cloud Model API changes</h2>

- Deprecated member &rarr; Replacement &ndash; Notes
- ModelPathUtils.ConvertCloudGUIDsToCloudPath (Guid, Guid) &rarr; ModelPathUtils.ConvertCloudGUIDsToCloudPath (string region, Guid, Guid) &ndash; The new method provides an extra argument to indicate the region of the model to open.
- Document.SaveAsCloudModel (string, string) &rarr; Document.SaveAsCloudModel (Guid accountId, Guid projectId, string, string) &ndash; The new method provides two extra arguments to make identifying the cloud location more efficient and reliable.

<a name="4.1.7"></a><h2 class="new">1.7. Raytrace view mode removed</h2>

The Raytrace view mode is no longer available.

The following two enum values have been removed (with no replacement):

- DisplayStyle.Raytrace
- TemporaryViewMode.Raytrace

<a name="4.1.8"></a><h2 class="new">1.8. Schedule API change</h2>

The method

- ViewSchedule.ExportSchedule()

now exports a text filed formatted in UTF8 (it was previously UNICODE) for better scalability and a more modern text format.

<a name="4.1.9"></a><h2 class="new">1.9. Slanted Walls</h2>

Standard walls can now be slanted.
There is no special API for this &ndash; use the standard parameter API to access the properties that control the slanted.
API code should no longer assume that standard walls (or their inserts) are vertical.

Three new parameters have been added:

- BuiltInParameter.WALL_CROSS_SECTION &ndash; An integer that controls whether the wall is vertical (0) or slanted (1).
- BuiltInParameter.WALL_SINGLE_SLANT_ANGLE_FROM_VERTICAL &ndash; A double that controls the angle of the slant relative to vertical, in degrees. The sign of the angle is positive in the direction to the right of the direction of the path curve of the wall, independent of how the wall is flipped.
- BuiltInParameter.INSERT_ORIENTATION &ndash; An integer that controls whether an insert in a wall is vertical (0) or follows the slant of the wall (1).

<a name="4.1.10"></a><h2 class="new">1.10. Path of Travel API change</h2>

The enumerated type:

- Autodesk.Revit.DB.Analysis.PathOfTravelCalculationRequestType

is not used in public API members and thus has been deprecated (with no replacement).

<a name="4.1.11"></a><h2 class="new">1.11. Geometry API changes</h2>

The following methods have been deprecated and replaced:

- Deprecated member &rarr; Replacement
- NurbSpline.isClosed() &rarr; Curve.IsClosed()
- ExportUtils.GetNurbsSurfaceDataForFace() &rarr; ExportUtils.GetNurbsSurfaceDataForSurface()

<a name="4.1.12"></a><h2 class="new">1.12. Extensible Storage API change</h2>

The following method has been deprecated and replaced:

- Deprecated member &rarr; Replacement
- ESSchema.EraseSchemaAndAllEntities() &rarr; Document.EraseSchemaAndAllEntities()

<a name="4.1.13"></a><h2 class="new">1.13. BuiltInParameter names corrected</h2>

A spelling mistake in two BuiltInParameter members has been corrected:

- Replaced member &rarr; Replacement
- RBS_ENERGY_ANALYSIS_BUILDING_ENVELOPE_ANALYTICAL_SURFACE_INDENTIFICATION_RESOLUTION &rarr; RBS_ENERGY_ANALYSIS_BUILDING_ENVELOPE_ANALYTICAL_SURFACE_IDENTIFICATION_RESOLUTION
- RBS_ENERGY_ANALYSIS_BUILDING_ENVELOPE_ANALYTICAL_SPACE_INDENTIFICATION_RESOLUTION &rarr; RBS_ENERGY_ANALYSIS_BUILDING_ENVELOPE_ANALYTICAL_SPACE_IDENTIFICATION_RESOLUTION

<a name="4.1.14"></a><h2 class="new">1.14. SpaceType names corrected</h2>

A spelling mistake in two SpaceType members has been corrected:

- Replaced member &rarr; Replacement
- kComfinementCellsPenitentiary &rarr; kConfinementCellsPenitentiary
- kComfinementCellsCourtHouse &rarr; kConfinementCellsCourtHouse

<a name="4.1.15"></a><h2 class="new">1.15. Image API changes</h2>

Several members have been deprecated and replaced with new methods that use the new ImageTypeSource enumeration. 

- Replaced member &rarr; Replacement
- ImageType.IsViewImage and ImageType.IsLoadedFromFile() &rarr; ImageType.Source
- ImageTypeOptions(), ImageTypeOptions(string) and ImageTypeOptions(string, bool) &rarr; ImageTypeOptions(string, bool, ImageTypeSource) or ImageTypeOptions(ExternalResourceReference, ImageTypeSource)

<a name="4.1.16"></a><h2 class="new">1.16. Obsolete API removal</h2>

The following API members and classes which had previously been marked Obsolete have been removed in this release. Consult the API documentation from prior releases for information on the replacements to use:

<a name="4.1.16.1.1"></a><h4 class="new">1.16.1.1. Classes</h2>

- Autodesk.Revit.DB.ImageImportOptions

<a name="4.1.16.1.2"></a><h4 class="new">1.16.1.2. Methods</h2>

- Document.Import(String, ImageImportOptions, View, out Element)
- ExternalResourceBrowserData.GetSubFolders()
- ImageView.Create(Document, String)
- Autodesk.Revit.Creation.Application.NewImageImportOptions()
- StructuralConnectionHandler.GetSubPartIds()
- FabricationConfiguration.GetMaterialThickness()

<p></p>

<center>
<div style="border-style:solid; border-width:2px 0px 2px 0px">
<a name="4.2"></a><h1 class="new" style="font-weight: bold">API Additions</h1>
</div>
</center>

<a name="4.2.1"></a><h2 class="new">2.1. Systems Analysis API additions</h2>

<a name="4.2.1.1"></a><h3 class="new">2.1.1. Mechanical Analytical Systems</h2>

The new class:

- Autodesk.Revit.DB.Mechanical.MEPAnalyticalSystem

represents an HVAC analytical system element where the air or water is circulated to satisfy building energy requirements.
Its AnalyticalSystemDomain property indicates whether the element represents a water loop or air system.

The new class:

- Autodesk.Revit.DB.Mechanical.WaterLoopData

contains the data for a water loop system. It can be obtained from the MEPAnalyticalSystem.GetWaterLoopData() method. It offers the following properties:

- WaterLoopData.WaterLoopType
- WaterLoopData.ChillerType
- WaterLoopData.CondenserWaterLoopId

The new class:

- Autodesk.Revit.DB.Mechanical.AirSystemData

contains the data for an air system.
It can be obtained from the MEPAnalyticalSystem.GetAirSystemData() method.
It offers the following properties:

- AirSystemData.HeatExchangerType
- AirSystemData.PreheatCoilType
- AirSystemData.HeatingCoilType
- AirSystemData.AirSystemCoolingCoilType
- AirSystemData.AirFanType

<a name="4.2.1.2"></a><h3 class="new">2.1.2. Zone equipment</h2>

The new class:

- Autodesk.Revit.DB.Mechanical.ZoneEquipment

represents a zone equipment element used for Mechanical Systems Analysis.
Zone equipment is an early-stage equipment placeholder that provides heating or cooling to part of the air system or water loop.
One zone equipment element may be mapped to multiple pieces of physical equipment depending on the zoning behavior type.

Analytical spaces may be associated to one or more zone equipment elements. The method:

- ZoneEquipment.MoveSpaceToEquipment() 

moves a set of spaces from the original zone equipment to the targeted zone equipment. Either zone equipment id may be InvalidElementId. If the original is InvalidElementId, the association is copied to the target zone equipment. If the target is InvalidElementId, the original association is removed. The method:

- ZoneEquipment.GetAssociatedZoneEquipment() 

returns the set of zone equipment that is associated with the specified analytical space or spaces. 

The new class

- Autodesk.Revit.DB.Mechanical.ZoneEquipmentData

represents the data associated with a zone equipment. It can be obtained from the ZoneEquipment.GetZoneEquipmentData() method. It offers the following properties:

- ZoneEquipmentData.EquipmentType
- ZoneEquipmentData.EquipmentBehavior
- ZoneEquipmentData.HotWaterLoopId
- ZoneEquipmentData.ChilledWaterLoopId
- ZoneEquipmentData.AirSystemId

<a name="4.2.1.3"></a><h3 class="new">2.1.3. System-Zones</h2>

A system-zone in Revit is used to specify what parts of a building are served by specific equipment, air systems and water loops, without having to physically model them. In the Revit API, a system-zone is represented as a GenericZone element with a domain data of type SystemZoneData.

The new class

- Autodesk.Revit.DB.GenericZone

provides for a method of selecting elements that somehow come in contact with the zone object. A zone is a non-hierarchical structure of geometric information, area or volume definitions for the purpose of analysis. A generic zone will contain specific domain requirements provided at creation of the element. Currently, all GenericZones will represent system-zone elements used for MEP design. Some relevant new members of GenericZones include:

- GenericZone.Create(Document doc, String name, GenericZoneDomainData domainData, ElementId levelId, IList&lt;CurveLoop&gt; curves) &ndash; supports creation of a zone using the specified domain data, level and curves to represent the intersection/outline of the related spaces.
- GenericZone.GetBoundaries() &ndash; Gets the boundaries for the given GenericZone.
- GenericZone.GetDomainData() &ndash; Returns the domain data for the given GenericZone.

For system-zone elements, the domain data will be an instance of the new class:

- Autodesk.Revit.DB.SystemZoneData

This data includes a reference to the zone equipment for the spaces in this system-zone:

- SystemZoneData.ZoneEquipmentId

<a name="4.2.1.4"></a><h3 class="new">2.1.4. Systems Analysis and Analysis Reports</h2>

The new class

- Autodesk.Revit.DB.Analysis.ViewSystemsAnalysisReport

represents a view instance of the systems analysis report. In a typical API workflow, to run a systems analysis against a Revit project, create (via ViewSystemsAnalysisReport.Create()) a new view instance and request (via ViewSystemsAnalysisReport.RequestSystemsAnalysis()) the systems analysis from that view. The analysis will run in the background, and when the analysis is completed, the related views are automatically updated. The method RequestSystemsAnalysis.IsAnalysisCompleted indicates if the background systems analysis has completed or not.

It is possible for a project to contain multiple systems analysis reports. The method:

- ViewSystemsAnalysisReport.GetLatestSystemsAnalysisReport()

returns the latest report of systems analysis. The peak heating/cooling loads of all EnergyAnalysisSpace elements should be consistent with this latest report.

The new class

- Autodesk.Revit.DB.Analysis.SystemsAnalysisOptions

contains some properties (e.g., WeatherFile, WorkflowFile, and OutputFolder) that affect the systems analysis. It is okay to leave some parameters empty. In those cases, the analysis will take the default value from the ViewSystemsAnalsisReport element. The weather file affects the results of energy simulation. More weather files are available at http://energyplus.net/weather .

<a name="4.2.1.5"></a><h3 class="new">2.1.5. Export to gbXML</h2>

The new property:

- GBXMLExportOptions.ExportAnalyticalSystems 

should be set to true to export the analytical system related items when exporting to gbXML.

<a name="4.2.1.6"></a><h3 class="new">2.1.6. Application settings</h2>

The new methods:

- Application.GetSystemsAnalysisWorkflowNames()
- Application.GetSystemsAnalysisWorkflows() 
- Application.SetSystemsAnalysisWorkflows() 

allow you to read and specify the name and path information names for systems analysis workflows.

<a name="4.2.2"></a><h2 class="new">2.2. Electrical API additions</h2>

<a name="4.2.2.1"></a><h3 class="new">2.2.1. Circuit naming</h2>

The new class:

- Autodesk.Revit.DB.Electrical.CircuitNamingScheme

represents a scheme used for electrical circuit naming. The most significant new methods on this class include:

- CircuitNamingScheme.Create()
- CircuitNamingScheme.GetCombinedParameters() 
- CircuitNamingScheme.SetCombinedParameters()

allowing schemes to be created, and allowing access to the list of combined parameters associated with the scheme.

The new class:

- Autodesk.Revit.DB.Electrical.CircuitNamingSchemeSettings

represents the circuit naming scheme settings object in a project document. The most significant new members on this class include:

- CircuitNamingSchemeSettings.GetCircuitNamingSchemeSettings() 
- CircuitNamingSchemeSettings.CircuitNamingSchemeId

<a name="4.2.2.2"></a><h3 class="new">2.2.2. Access to circuit naming, switchboards and other properties</h2>

Several new properties and methods have been added to support access to circuit naming information on a variety of elements:

- ElectricalSetting.GetCircuitNamingSchemeSettings() &ndash; Gets the circuit naming scheme settings of the project.
- ElectricalSystem.SlotIndex &ndash; The Slots where the Electrical System is located in its panel.
- ElectricalSystem.CircuitNamingIndex &ndash; The Circuit Naming Index where the Electrical System is located in its panel.
- ElectricalSystem.PhaseLabel &ndash; The circuit phase label used in the Electrical System.
- ElectricalSystem.Ways &ndash; The circuit ways used in the Electrical System.
- ElectricalSystem.LoadClassificationAbbreviations &ndash; The LoadClassification Abbreviations used in the Electrical System.
- ElectricalLoadClassification.Abbreviation &ndash; The abbreviation of the load classification name.
- ElectricalEquipment.CircuitNamingSchemeId &ndash; The CircuitNamingSchemeId used in the Electrical Equipment.
- ElectricalEquipment.IsValidDistributionSystem() &ndash; Verifies that the Distribution System can be assigned to the Electrical Equipment.
- ElectricalEquipment.IsValidCircuitNamingSchemeId() &ndash; Verifies that the circuit naming scheme id can be used with Electrical Equipment.
- ElectricalEquipment.GetCircuitNamingSchemeType() &ndash; Gets enumerated type of the circuit naming scheme used with Electrical Equipment.
- ElectricalEquipment.SetCircuitNamingSchemeType() &ndash; Sets the circuit naming scheme for Electrical Equipment.
- PanelScheduleView.RenumberIndexes() &ndash; Renumbers the Circuit Naming Index for the circuits in the panel.
- ElectricalEquipment.MaxNumberOfCircuits &ndash; The maximum number of circuits for switchboard.
- ElectricalEquipment.IsSwitchboard() &ndash; Verifies that the electrical equipment is a switchboard.
- PanelScheduleView.SwitchPhases() &ndash; Switches the circuit phases at the slot.
- ElectricalSystem.Frame &ndash; Retrieves the Frame value of the Electrical System.
- PanelScheduleData.IsUnusedPhaseHidden &ndash; True if the user wishes to hide the unused phase column of a single phase panel, false otherwise.

<a name="4.2.3"></a><h2 class="new">2.3. Element and ElementFilter additions</h2>

<a name="4.2.3.1"></a><h3 class="new">2.3.1. Element History</h2>

The new property:

- Element.VersionGuid

gets an element version Guid that can be used to see whether this element has changed compared to the previous saved or synchronized version of the document.

<a name="4.2.3.2"></a><h3 class="new">2.3.2. Element Filters</h2>

Two new element filter classes have been added for use in FilteredElementCollector and other tools leveraging ElementFilter classes.

The new class:

- Autodesk.Revit.DB.ElementIdSetFilter

is a quick filter wrapping a set of element ids.

The new class:

- Autodesk.Revit.DB.VisibleInViewFilter

is a quick filter that passes elements that are most likely visible in the given view.

<a name="4.2.4"></a><h2 class="new">2.4. Document API additions</h2>

Two new document events provide additional flexibility to react when a document is reloaded:

- Application.DocumentReloadingLatest
- Application.DocumentReloadedLatest

Subscribers to these events will be provided an argument object containing the path to the central model. Document changes are permitting during both events.

<a name="4.2.5"></a><h2 class="new">2.5. View API additions</h2>

<a name="4.2.5.1"></a><h3 class="new">2.5.1. Split sections</h2>

The new methods:

- DBViewSection.IsSplitSection()
- ViewCropRegionShapeManager.GetSplitRegionOffset()

identify if a section view is split, and return the offset for the specified split crop region.

<a name="4.2.5.2"></a><h3 class="new">2.5.2. Temporary View Modes</h2>

The Revit API now allows customization to create "custom temporary view modes" applied to a view as a temporary view property.

For this release, the "Reveal Obstacles for Path of Travel" temporary mode is implemented this way. It uses the Analysis Visualization Framework (AVF) to display additional graphics on top of the view contents.

The new properties:

- TemporaryViewModes.CustomTitle
- TemporaryViewModes.CustomColor
- TemporaryViewModes.ResetCustomization()
- TemporaryViewModes.IsCustomized()

provide access to read and modify a custom temporary view mode. CustomTitle should be set to cause the view to display the customized frame. The application is responsible to adjust the appearance of elements in the view related to the mode.

<a name="4.2.5.3"></a><h3 class="new">2.5.3. Filters</h2>

The new methods:

- View.GetIsFilterEnabled()
- View.SetIsFilterEnabled() 

identify or set if the filter is enabled in this view. 

The new method:

- View.GetOrderedFilters() 

gets the filters applied to the view in the order they are applied.

<a name="4.2.6"></a><h2 class="new">2.6. Schedule API additions</h2>

<a name="4.2.6.1"></a><h3 class="new">2.6.1. Striped rows</h2>

The new properties:

- ViewSchedule.HasStripedRows
- ViewSchedule.UseStripedRowsOnSheets

provides access to read or set if a given schedule is using a striped row display, and whether that display will be used on a sheet that displays this schedule.

The new methods:

- ViewSchedule.GetStripedRowsColor() 
- ViewSchedule.SetStripedRowsColor() 

get and set the color applied to the indicated part of the pattern for a schedule with striped rows.

<a name="4.2.6.2"></a><h3 class="new">2.6.2. Frozen header</h2>

The new property:

- ViewSchedule.IsHeaderFrozen 

provides access to read or set if the header is frozen on a given schedule.

<a name="4.2.7"></a><h2 class="new">2.7. Path of Travel API</h2>

<a name="4.2.7.1"></a><h3 class="new">2.7.1. Reveal Obstacles mode for Path of Travel</h2>

The Reveal Obstacles view mode highlights elements in the plan view when those elements will act as obstacles for the current Path of Travel calculation settings. The new methods:

- PathOfTravel.IsInRevealObstaclesMode()
- PathOfTravel.SetRevealObstaclesMode()

provide access to read or set if a view is displaying this mode.

<a name="4.2.7.2"></a><h3 class="new">2.7.2. Path finding analysis for Path of Travel</h2>

New static methods added:

- List&lt;XYZ&gt; PathOfTravel.FindStartsOfLongestPathsFromRooms(View view, List&lt;XYZ&gt; destinationPoints)

For a floor plan view, calculates paths from points inside rooms to the closest of the destinations.

Returns the start points of the longest path(s). If multiple paths have the same longest length, returns multiple start points.

The entire plan is divided in small tiles, and the distance to the closest destination point is calculated for each tile center point. Only tile center points that are located in rooms in the view are taken into account.

- List&lt;XYZ&gt; PathOfTravel.FindEndsOfShortestPaths(View view, List&lt;XYZ&gt; destinationPoints, List&lt;XYZ&gt; startPoints)

For a floor plan view, calculates the paths from each start point to its closest destination and return the path end points.

The calculation is done in a floor plan with one or more destinationPoints and one or more startPoints. 

The shortest path is calculated from each start point to its corresponding closest destination.

- List&lt;List&lt;XYZ&gt;&gt; PathOfTravel.FindShortestPaths(View view, List&lt;XYZ&gt; destinationPoints, List&lt;XYZ&gt; startPoints)

For a floor plan view, calculates paths from each start point to its closest destinations.

Returns the path, represented by an array of XYZ points.

The calculation is done in a floor plan with one or more destinationPoints and one or more startPoints. 

The shortest path is calculated from each start point to its closest destination point.

<a name="4.2.7.3"></a><h3 class="new">2.7.3. Waypoints</h2>

The new methods:

- PathOfTravel.GetWaypoints()
- PathOfTravel.InsertWaypoint()
- PathOfTravel.SetWaypoint()
- PathOfTravel.RemoveWaypoint()

provide access to read and modify the waypoints associated to a particular PathOfTravel element. Waypoints force the path of travel calculation to ensure that the path includes each of the specified points, in the order specified, between the start and end points.

<a name="4.2.8"></a><h2 class="new">2.8. Export API additions</h2>

<a name="4.2.8.1"></a><h3 class="new">2.8.1. CustomExporter events</h2>

Subscribe to the events:

- Autodesk.Revit.ApplicationServices.Application.ViewsExportingByContext
- Autodesk.Revit.ApplicationServices.Application.ViewsExportedByContext

to be notified when Revit is just about to export, or has just exported, one or more views of the document via an export context by CustomExporter. 

Handlers of this event are permitted to make modifications to any document (including the active document), except for documents that are currently in read-only mode.

The new class:

- Autodesk.Revit.DB.Events.ViewsExportingByContextEventArgs

provides information when Revit is just about to export one or more views of the document via an export context by CustomExporter.

The class has the following method:

- ViewsExportingByContextEventArgs.GetViewIds() &ndash; Gets the ids of views about to be exported by CustomExporter.

The new class:

- Autodesk.Revit.DB.Events.ViewsExportedByContextEventArgs

provides information when Revit has just exported one or more views of the document via an export context by CustomExporter.

The class has the following method:

- ViewsExportingByContextEventArgs.GetViewIds() &ndash; Gets the ids of views that have been exported by CustomExporter.

<a name="4.2.9"></a><h2 class="new">2.9. Options API additions</h2>

<a name="4.2.9.1"></a><h3 class="new">2.9.1. Color options </h2>

The new class:

- Autodesk.Revit.DB.ColorOptions

provides access to color settings which affect the colors applied to specific views. 

The ColorOptions for the current session of Revit can be accessed via:

- static ColorOptions.GetColorOptions()

It has the following properties:

- BackgroundColor &ndash; The background color applied to views.
- SelectionColor &ndash; The color used to highlight selected elements. 
- SelectionSemitransparent &ndash; Indicates whether or not selections will be shown in a semi-transparent manner. 
- PreselectionColor &ndash; The color used to highlight candidates for selection before they are selected. 
- AlertColor &ndash; The color used to highlight elements when a special alert is required. 
- CalculatingColor &ndash; The color used to render elements when some aspect of their properties is currently being recalculated.
- EditingColor &ndash; The color used to render elements when editing.

<a name="4.2.10"></a><h2 class="new">2.10. Geometry API additions</h2>

<a name="4.2.10.1"></a><h3 class="new">2.10.1. Surfaces</h2>

The new class:

- Autodesk.Revit.DB.OffsetSurface

encapsulates the mathematical representation of a surface offset at a normal distance from an originating surface.

The new method:

- Surface.GetBoundingBoxUV() 

gets the UV bounding box of the surface.

The new class:

- Autodesk.Revit.DB.CurveUV

represents the notion of a curve in the 2D parameter space of a surface in 3D space. This class includes a utility method:

- CurveUV.As3DCurveInXYPlane()

that returns a 3D curve lying in the XY plane in XYZ coordinates, representing the 2D curve with its UV coordinates identified with XY coordinates.

<a name="4.2.10.2"></a><h3 class="new">2.10.2. Edges</h2>

The new methods:

- Edge.IsFlippedOnFace(int index) 
- Edge.IsFlippedOnFace(Face face) 

determine if the edge's topological direction on the Face is opposite to its parametric direction.

The new class:

- EdgeEndPoint &ndash; Represents the start or the end point of an Edge.

it can be used in the new method:

- SolidUtils.FindAllEdgeEndPointsAtVertex()

which will find all EdgeEndPoints at a vertex identified by the input EdgeEndPoint.

The new overloaded methods:

- Edge.GetCurveUV() 

Calculate and (optionally) transform a 2D curve that represents the edge in the UV-parameter plane of one of the edge's faces.

<a name="4.2.10.3"></a><h3 class="new">2.10.3. Meshes</h2>

The new members:

- Mesh.GetNormal()
- Mesh.GetNormals()
- Mesh.DistributionOfNormals
- Mesh.NumberOfNormals

provide information about the normal vectors contained in a Mesh.

<a name="4.2.10.4"></a><h3 class="new">2.10.4. Geometry utilities</h2>

The new property:

- GeometryObject.Id

returns a unique integer identifying the GeometryObject in its associated GeometryElement.

The new class:

- Autodesk.Revit.DB.MathComparisonUtils

contains a set of mathematical utilities to compare doubles, using the Revit predefined internal tolerance.

The new classes:

- Autodesk.Revit.DB.Transform1D
- Autodesk.Revit.DB.Transform2D

representing an affine transform of 1D or 2D Euclidean space.

The new property:

- BoundingBoxUV.IsSet

indicates whether the BoundingBoxUV is set or not.

<a name="4.2.11"></a><h2 class="new">2.11. Image API additions</h2>

<a name="4.2.11.1"></a><h3 class="new">2.11.1. Image properties</h2>

The new properties:

- ImageType.Resolution
- ImageType.WidthInPixels
- ImageType.HeightInPixels
- ImageType.Width
- ImageType.Height

provide read access to some of the image size and resolution properties.

<a name="4.2.11.2"></a><h3 class="new">2.11.2. Converting images between links and imports</h2>

The new property:

- ImageTypeOptions.SourceType

along with the new enumerated value

- ImageTypeSource

will allow you to create or convert an ImageType to a link or import.

Two new constructors take an ImageTypeSource as an argument:

- ImageTypeOptions(String, Boolean, ImageTypeSource)
- ImageTypeOptions(ExternalReference, ImageTypeSource)

Several new methods and properties have also been added to ImageType:

- ImageType.Source &ndash; Indicates how the image is created (as a link, import, or internally-generated image)
- ImageType.Status &ndash; Indicates whether the image is loaded or unloaded (if applicable)
- ImageType.Unload() &ndash; Unloads a linked image

The new enumeration:

- ImageTypeStatus

contains possible values for the load status of an ImageType.

<a name="4.2.12"></a><h2 class="new">2.12. Cloud Model API additions</h2>

<a name="4.2.12.1"></a><h3 class="new">2.12.1. Regions</h2>

The new property:

- ModelPath.Region

returns the region of the BIM 360 account and project which contains this model.

The new static properties:

- ModelPathUtils.CloudRegionUS
- ModelPathUtils.CloudRegionEMEA

return the region names of different BIM 360 cloud services. They can be used as the first argument of the ModelPathUtils.ConvertCloudGUIDsToCloudPath() method.

<a name="4.2.12.2"></a><h3 class="new">2.12.2. Opening Cloud Models</h2>

The new enumeration value:

- OpenConflictScenario.VersionArchived

indicates that last central version merged into the local model to open has been archived in the central model.

The new enumeration value:

- OpenConflictResult.DetachFromCentral

provides the option to detach the local model from its central model, with worksets preserved.

<a name="4.2.13"></a><h2 class="new">2.13. Structural Connection API addition</h2>

<a name="4.2.13.1"></a><h3 class="new">2.13.1. Connections requiring additional points</h2>

The new class:

- Autodesk.Revit.DB.Structure.ConnectionInputPoint

contains the 3D location and unique id for one structural connection input point.

The new class:

- Autodesk.Revit.DB.Structure.ConnectionInputPointInfo

contains information about connection input points requirements, such as number of required points, a user visible description for each point, and potential location restrictions.

The new method:

- Autodesk.Revit.DB.Structure.StructuralConnectionHandler.Create(Document, IList&lt;ElementId&gt;, ElementId, IList&lt;XYZ&gt;)

provides a way to create connections that require additional input points.

The following new methods use input points:

- static Autodesk.Revit.DB.Structure.StructuralConnectionHandlerType.Create(Document, string, Guid, string, ElementId, IList&lt;ConnectionInputPointInfo&gt;)
- Autodesk.Revit.DB.Structure.StructuralConnectionHandler.GetInputPoints()
- Autodesk.Revit.DB.Structure.StructuralConnectionHandler.GetInputPoint()

<a name="4.2.14"></a><h2 class="new">2.14. Reinforcement API additions</h2>

<a name="4.2.14.1"></a><h3 class="new">2.14.1. Rebar constraints</h2>

Several new RebarConstraint methods allow control over distances and spacing:

- RebarConstraint.GetDistanceToTargetRebar()
- RebarConstraint.SetDistanceToTargetRebar() 
- RebarConstraint.IsBindingHandleWithTarget() 
- RebarConstraint.SetToBindHandleWithTarget() 
- RebarConstraint.IsUsingClearBarSpacing()
- RebarConstraint.SetToUseClearBarSpacing() 
- RebarConstraint.FlipHandleOverTarget() 

Two new methods have been added to RebarConstraintsManager:

- RebarConstraintsManager.GetConstraintCandidatesForHandle(RebarConstrainedHandle, ElementId)
- RebarConstraintsManager.GetConstraintCandidatesForHandle(RebarConstrainedHandle, Reference) 

These methods return all possible RebarConstraints that could be used for a RebarConstrainedHandle related to the additional input. For free form rebar these will return an empty list.

<a name="4.2.14.2"></a><h3 class="new">2.14.2. Rebar end treatment</h2>

The new method:

- Rebar.SetEndTreatmentTypeId()

sets the id of the EndTreatmentType to be applied to the rebar at the specified end.

<a name="4.2.14.3"></a><h3 class="new">2.14.3. Fabric Sheet visibility</h2>

The new methods:

- FabricSheet.IsSolidInView()
- FabricSheet.SetSolidInView()
- FabricSheet.IsUnobscuredInView()
- FabricSheet.SetUnobscuredInView()

get and set the visibility options for a given fabric sheet instance as applied to a particular 3D view.

<a name="4.2.14.4"></a><h3 class="new">2.14.4. Out of plane hook rotation angles</h2>

Several new static creation methods take into account the out of plane hook rotation angle and the end treatment type id:

- static Rebar.CreateFromCurves() &ndash; Creates a new instance of a shape driven Rebar element within the project, given an array of curves and properties.
- static Rebar.CreateFromCurvesAndShape() &ndash; Creates a new instance of a shape driven Rebar element within the project, given an array of curves, a RebarShape and some properties.
- static Rebar.RebarShapeMatchesCurvesHooksAndEndTreatment() &ndash; Checks if rebarShape matches curves, hooks and end treatment.
- static RebarShape.Create() &ndash; Creates a new instance of a RebarShape, which defines the shape of a Rebar.

The following methods allow getting or setting the out of plan hook rotation angle:

- Rebar.GetHookRotationAngle()
- Rebar.SetHookRotationAngle()
- RebarShape.GetHookRotationAngle()
- RebarShape.SetHookRotationAngle()

These methods all affect the angle at the specified end.

<a name="4.2.14.5"></a><h3 class="new">2.14.5. Hook length overrides</h2>

The following new Rebar methods enable overriding the hook length from the API:

- Rebar.EnableHookLengthOverride()
- Rebar.IsHookLengthOverrideEnabled()
- Rebar.GetOverridableHookParameters() &ndash; Outputs the formula parameter ids defined in the RebarShape family which are associated with hook length and hook tangent length parameters.

<a name="4.2.15"></a><h2 class="new">2.15. Material API addition</h2>

The new property: 

- StructuralAsset.MetalThermallyTreated

indicates whether the asset describes a material that is thermally treated or not, corresponding to the BuiltInParameter member PHY_MATERIAL_PARAM_STRUCTURAL_THERMAL_TREATED.

<a name="4.2.16"></a><h2 class="new">2.16. Analysis Visualization Framework API addition</h2>

The new property:

- SpatialFieldManager.AllowInteractiveSettings

toggles the ability to access the Analysis Visualization Framework (AVF) settings for a particular set of results. This property is true by default. If the property is set to false, all AVF dialogs are unreachable in the UI.

Also, if the property is set to false, deletion of the SpatialFieldManager, its parts or associated AnalysisDisplayLegend element is prohibited.

<a name="4.2.17"></a><h2 class="new">2.17. Shared Coordinates API additions</h2>

<a name="4.2.17.1"></a><h3 class="new">2.17.1. Internal Origin </h2>

The new class:

- Autodesk.Revit.DB.InternalOrigin

represents the origin of Revit's internal coordinate system. Each Revit project contains one InternalOrigin.

It has the following members:

- static InternalOrigin.Get(Document doc) &ndash; Returns the internal origin of the project. There is one InternalOrigin per document.
- InternalOrigin.Position &ndash; Read-only property which returns the XYZ value of the internal coordinates.
- InternalOrigin.SharedPosition &ndash; Read-only property which returns the shared position of the internal origin based on the active ProjectLocation of its Document.

<a name="4.2.17.2"></a><h3 class="new">2.17.2. BasePoint</h2>

Two new methods provide access to the base and survey point:

- static BasePoint.GetProjectBasePoint() 
- static BasePoint.GetSurveyPoint() 




<h1>Major changes and renovations to the Revit API
1.	<h1>API changes
1.1.	<h2>Parameter API changes (migration to ForgeTypeId)
In Revit 2021, Revit API functionality for units of measurement migrated from enumerated identifiers to extensible identifiers represented by the ForgeTypeId class. ForgeTypeId is now used as the identifier type for more data structures in the Revit API.
A ForgeTypeId instance holds a string, called a "typeid", that uniquely identifies a Forge schema. A Forge schema is a JSON document describing a data structure, supporting data interchange between applications. A typeid string includes a namespace and version number and may look something like "autodesk.spec.aec:length-1.0.0" or "autodesk.unit.unit:meters-1.0.0".  By default, comparison of ForgeTypeId values in the Revit API ignores the version number.
The new classes:
•	Autodesk.Revit.DB.DisciplineTypeId
•	Autodesk.Revit.DB.GroupTypeId
•	Autodesk.Revit.DB.ParameterTypeId
contain properties of type ForgeTypeId, following the pattern established in Revit 2021 with the UnitTypeId, SymbolTypeId, and SpecTypeId classes. Values from the DisciplineTypeId class can be used in code to replace values of the deprecated UnitGroup enumeration. For example, where you previously used UnitGroup.Structural, you would now use DisciplineTypeId.Structural. Values from the GroupTypeId and ParameterTypeId classes can be used to replace values of the BuiltInParameter and BuiltInParameterGroup enumerations, respectively, which have not yet been deprecated.
The SpecTypeId class contains several new nested classes containing ForgeTypeId properties identifying non-floating-point data types, such as integers and strings. ForgeTypeId properties in SpecTypeId and its nested classes can be used to replace values of the deprecated ParameterType enumeration.  These tables list the deprecated types and their replacements, as well as some migrated types where the original enumeration is not yet fully deprecated:
Deprecated enumeration	Replacement
UnitGroup	DisciplineTypeId
ParameterType	SpecTypeId
SpecTypeId.Boolean
SpecTypeId.Int
SpecTypeId.Reference
SpecTypeId.String

Original enumeration	Preferred replacements as ForgeTypeId
BuiltInParameterGroup	GroupTypeId
BuiltInParameter	ParameterTypeId
The mapping of enumerations to different ForgeTypeId members has implications for previously existing APIs related to parameter access, parameter definitions, shared parameter creation and binding, global parameters and other utilities.  
1.1.1.	<h3>Changes to Parameter Access APIs
Original member	Preferred replacement
Document.TypeOfStorage[BuiltInParameter]	Document.GetTypeOfStorage(ForgeTypeId)
Element.Parameter[BuiltInParameter]	Element.GetParameter(ForgeTypeId)
Parameter.Id	Parameter.GetTypeId()
1.1.2.	<h3>Changes to Parameter Definition APIs
In the Definition class, the ParameterType property and the GetSpecTypeId() method are both deprecated in favor of the new method GetDataType(). GetDataType() is more general than the functions it replaces, providing a data type identifier for any parameter.
•	For parameters associated with units of measurement, GetDataType() returns a measurable spec identifier. Use UnitUtils.IsMeasurableSpec(ForgeTypeId) to detect a measurable spec identifier.
•	For Family Type parameters, GetDataType() returns a category identifier. Use Category.IsBuiltInCategory(ForgeTypeId) to detect a category identifier.
•	For all other parameters, GetDataType() returns a spec identifier. Use Parameter.IsSpec(ForgeTypeId) to detect a spec identifier, including measurable specs.
Use Parameter.IsValidDataType(ForgeTypeId) to detect any parameter data type identifier – i.e., any measurable or non-measurable spec or category.
Deprecated member	Replacement member
Definition.GetSpecTypeId()
Definition.ParameterType	Definition.GetDataType()

Original member	Preferred replacement
Definition.ParameterGroup	Definition.GetGroupTypeId()
InternalDefinition.BuiltInParameter	InternalDefinition.GetParameterTypeId()
InternalDefinition.ParameterGroup	InternalDefinition.GetGroupTypeId()
InternalDefinition.ParameterGroup	InternalDefinition.SetGroupTypeId(ForgeTypeId)
InternalDefinition.Id	InternalDefinition.GetTypeId()
1.1.3.	<h3>Changes to Shared Parameter Creation and Binding APIs
In the ExternalDefinitionCreationOptions class, used to create shared parameters, the implementation now offers better input validation and new capabilities.
The deprecated class constructor and Type property setter taking ParameterType values now throw an exception for input values ParameterType.Invalid or ParameterType.FamilyType. It was not possible to use this interface to create Family Type shared parameters.
However, it is now possible to create Family Type shared parameters using the replacement functions based on ForgeTypeId. The class constructor taking ForgeTypeId and the SetDataType(ForgeTypeId) method accept any spec or category identifier. Using a category identifier produces a Family Type shared parameter of the given category. Use Category.GetBuiltInCategoryTypeId(BuiltInCategory) to obtain the ForgeTypeId identifier for a given category.
Use Parameter.IsValidDataType(ForgeTypeId) to detect any parameter data type identifier – i.e., any measurable or non-measurable spec or category.
Deprecated member	Replacement member
ExternalDefinitionCreationOptions(string, ParameterType)	ExternalDefinitionCreationOptions(string, ForgeTypeId)
ExternalDefinitionCreationOptions.Type	ExternalDefinitionCreationOptions.GetDataType()
ExternalDefinitionCreationOptions.SetDataType(ForgeTypeId)

Original member	Preferred replacement
BindingMap.Insert(Definition, Binding, BuiltInParameterGroup)	BindingMap.Insert(Definition, Binding, ForgeTypeId)
BindingMap.ReInsert(Definition, Binding, BuiltInParameterGroup)	BindingMap.ReInsert(Definition, Binding, ForgeTypeId)

Shared parameters can also be created and leveraged in families using members of the FamilyManager class.  
Deprecated member	Replacement member
FamilyManager.AddParameter(string, BuiltInParameterGroup, ParameterType, bool)	FamilyManager.AddParameter(string, ForgeTypeId, ForgeTypeId, bool)

Original member	Preferred replacement
FamilyManager.AddParameter(ExternalDefinition, BuiltInParameterGroup, bool)	FamilyManager.AddParameter(ExternalDefinition, ForgeTypeId, bool)
FamilyManager.AddParameter(string, BuiltInParameterGroup, Category, bool)	FamilyManager.AddParameter(string, ForgeTypeId, Category, bool)
FamilyManager.IsUserAssignableParameterGroup(BuiltInParameterGroup)	FamilyManager.IsUserAssignableParameterGroup(ForgeTypeId)
FamilyManager.Parameter[BuiltInParameter]	FamilyManager.GetParameter(ForgeTypeId)
FamilyManager.ReplaceParameter(FamilyParameter, ExternalDefinition, BuiltInParameterGroup, bool)	FamilyManager.ReplaceParameter(FamilyParameter, ExternalDefinition, ForgeTypeId, bool)
FamilyManager.ReplaceParameter(FamilyParameter, string, BuiltInParameterGroup, bool)	FamilyManager.ReplaceParameter(FamilyParameter, string, ForgeTypeId, bool)
1.1.4.	<h3>Changes to GlobalParameter APIs 
Deprecated member	Replacement member
GlobalParameter.Create(Document, string, ParameterType)	GlobalParameter.Create(Document, string, ForgeTypeId)
GlobalParameter.IsValidDataType(ParameterType)	Parameter.IsSpec(ForgeTypeId)
1.1.5.	<h3>New and changed utility APIs
The LabelUtils class, used to obtain user-visible names for enumerations, has several changes according to the mapping from enumerations to ForgeTypeId. In addition to the replacements listed below, a new method:
•	LabelUtils.GetLabelForDiscipline(ForgeTypeId)
returns the user visible name corresponding to a Revit discipline in the current Revit language. The implementation of the method:
•	LabelUtils.GetLabelForSpec(ForgeTypeId) 
has been expanded to accept a ForgeTypeId argument identifying any parameter data type. For a category identifier input, GetLabelForSpec(ForgeTypeId) returns the label of the Family Type spec for that category, e.g. "Family Type: Wall Tags".
Deprecated member	Replacement member
LabelUtils.GetLabelFor(ParameterType)	LabelUtils.GetLabelForSpec(ForgeTypeId)

Original member	Preferred replacement
LabelUtils.GetLabelFor(BuiltInParameter)	LabelUtils.GetLabelForBuiltInParameter(ForgeTypeId)
LabelUtils.GetLabelFor(BuiltInParameter, LanguageType)	LabelUtils.GetLabelForBuiltInParameter(ForgeTypeId, LanguageType)
LabelUtils.GetLabelFor(BuiltInParameterGroup)	LabelUtils.GetLabelForGroup(ForgeTypeId)

ParameterUtils is a new class with static utility functions related to ForgeTypeId parameter identifiers: 
•	ParameterUtils.GetAllBuiltInGroups()
•	ParameterUtils.GetAllBuiltInParameters()
•	ParameterUtils.IsBuiltInGroup(ForgeTypeId)
•	ParameterUtils.IsBuiltInParameter(ForgeTypeId)
The ParameterUtils class contains several methods that are new in this release but also deprecated. They are offered only to assist clients in migrating code from the BuiltInParameter and BuiltInParameterGroup enumerations to the ForgeTypeId class.
Introduced for porting assistance but deprecated
ParameterUtils.GetBuiltInParameter(ForgeTypeId)
ParameterUtils.GetBuiltInParameterGroup(ForgeTypeId)
ParameterUtils.GetParameterGroupTypeId(BuiltInParameterGroup)
ParameterUtils.GetParameterTypeId(BuiltInParameter)

SpecUtils is a new class with static utility functions related to ForgeTypeId spec identifiers: 
•	SpecUtils.GetAllSpecs()
•	SpecUtils.IsSpec(ForgeTypeId)
•	SpecUtils.IsValidDataType(ForgeTypeId)
The SpecUtils class contains two methods that are new in this release but also deprecated. They are offered only to assist clients in migrating code from the ParameterType enumeration to the ForgeTypeId class.
Introduced for porting assistance but deprecated
SpecUtils.GetParameterType(ForgeTypeId)
SpecUtils.GetSpecTypeId(ParameterType)

Changes were made to UnitUtils to clarify the meaning of some operations and to offer functions related to disciplines. 
The methods GetAllSpecs() and IsSpec(ForgeTypeId) are renamed to GetAllMeasurableSpecs() and IsMeasurableSpec(ForgeTypeId) to clarify that they apply only to measurable specs, describing floating-point values associated with units of measurement, and to avoid confusion with the new Parameter class static methods GetAllSpecs() and IsSpec(ForgeTypeId), which apply to specs of all value types. 
The new method:
•	UnitUtils.GetAllDisciplines()
provides a list of all available Revit disciplines, suitable for iteration. Previously iteration would have used the members of the UnitGroup enumeration.
Deprecated	Replacement
UnitUtils.GetAllSpecs()	UnitUtils.GetAllMeasurableSpecs()
UnitUtils.GetUnitGroup(ForgeTypeId)	UnitUtils.GetDiscipline(ForgeTypeId)
UnitUtils.IsSpec(ForgeTypeId)	UnitUtils.IsMeasurableSpec(ForgeTypeId)

1.2.	<h2>Renamed/replaced Parameter Group members
As a part of changes made to support externalized parameter groups, three BuiltInParameterGroup enumeration values were renamed:
Original	Replacement
PG_ELECTRICAL	PG_ELECTRICAL_ENGINEERING
PG_AELECTRICAL	PG_ELECTRICAL
PG_TERMINTATION	PG_TERMINATION
Note that because the name PG_ELECTRICAL now identifies a different group, client applications which do not adjust will find parameters they create now in "Electrical" instead of "Electrical Engineering".

1.3.	<h2>Document & Worksharing API changes
1.3.1.	<h3>SaveAsCloudModel() now supports save of a new Revit Cloud Worksharing central model
The method:
•	Document.SaveAsCloudModel(Guid, Guid, String, String)
has been enhanced to support upload of local workshared file into BIM 360 Design as a Revit Cloud Worksharing central model.
In addition, the exception UnauthenticatedUserException is removed from the documented exceptions for this method.
1.3.2.	<h3>Revit Links to Cloud Models
The methods:
•	RevitLinkType.Create(Document, ModelPath, RevitLinkOptions)
•	RevitLinkType.LoadFrom(ModelPath, WorksetConfiguration)
have been enhanced to support creation of new cloud model Revit links. You may use ModelPathUtils. ConvertCloudGUIDsToCloudPath() to create a cloud path to use as an argument to these methods.
These other link methods:
•	RevitLinkType.IsLoaded()
•	RevitLinkType.Load()
•	RevitLinkType.Reload()
•	RevitLinkType.Unload()
will work with any cloud Revit link created by a Revit user or through the APIs above.
1.3.3.	<h3>Worksharing API exception changes
Several exceptions have changed from existing worksharing API.   For the method Document.SaveAsCloudModel():
Situation	Previous exception	Current exception
User doesn't sign in	ArgumentException	RevitServerUnauthenticatedUserException
Duplicated model name	RevitServerInternalException	RevitServerModelAlreadyExistsException
Hub/Project/Folder doesn't exist	ArgumentException	RevitServerUnauthorizedException
Folder is Plans folder or its sub folder	ArgumentException	RevitServerUnauthorizedException
Folder doesn't have "Edit" permission	ArgumentException	RevitServerUnauthorizedException
In addition, the function will now throw RevitServerModelNameBreaksConventionException when the model name breaks the project naming convention. 
For the method ModelPathUtils.ConvertCloudGUIDsToCloudPath():
Situation	Previous exception	Current exception
Region doesn't exist	RevitServerCommunicationException	RevitServerUnauthorizedException
Project doesn't exist	CentralModelMissingException	RevitServerUnauthorizedException
Model doesn't exist	No exception	RevitServerUnauthorizedException
Model exists in a folder that doesn't have the "Edit" permission, but has View above permission	RevitServerUnauthorizedException	No exception
1.3.4.	<h3>Worksharing API replacements
Some properties have been removed and replaced in this release. Because these were an immediate replacement, applications referencing the replaced properties will need to be updated immediately for this release.
Removed member	Replaced member
DocumentSavingAsEventArgs.IsSavingAsMasterFile	DocumentSavingAsEventArgs.IsSavingAsCentralFile
DocumentSavedAsEventArgs.IsSavingAsMasterFile	DocumentSavedAsEventArgs.IsSavingAsCentralFile

1.4.	<h2>Sketched element API changes
1.4.1.	<h3>Floor creation API replacements
The following members have been replaced:
Deprecated member	Replacement member
Autodesk.Revit.Creation.Document.NewFloor() (all overloads)	Floor.Create(Document document, IList<CurveLoop> profile, ElementId floorTypeId, ElementId levelId)
Autodesk.Revit.Creation.Document.NewSlab()	Floor.Create(Document document, IList<CurveLoop> profile, ElementId floorTypeId, ElementId levelId, bool isStructural, Line slopeArrow, double slope)
Autodesk.Revit.Creation.Document.NewFoundationSlab()	Floor.Create(Document document, IList<CurveLoop> profile, ElementId floorTypeId, ElementId levelId)

1.5.	<h2>IndependentTag API Changes
1.5.1.	<h3>Rotation
The new property
•	RotationAngle
can be used to get or set the rotation of the tag relative to its view.
1.5.2.	<h3>Multiple References 
IndependentTag now supports multiple references to various elements or sub-elements. 
A number of properties were deprecated. The users can now access the desired leader or tagged element using their References. 
Deprecated Member 	Replacement Members 
IndependentTag.TaggedLocalElementId 	IndependentTag.GetTaggedLocalElementIds() 
IndependentTag.TaggedElementId 	IndependentTag.GetTaggedElementIds() 
IndependentTag.GetTaggedLocalElement() 	IndependentTag.GetTaggedLocalElements() 
IndependentTag.GetTaggedReference() 	IndependentTag.GetTaggedReferences() 
IndependentTag.HasElbow 	IndependentTag.HasLeaderElbow() 
IndependentTag.LeaderElbow 	IndependentTag.GetLeaderElbow() 
IndependentTag.SetLeaderElbow() 
IndependentTag.LeaderEnd 	IndependentTag.GetLeaderEnd() 
IndependentTag.SetLeaderEnd() 
All deprecated members still work in multi leader scenario by using only the first tagged reference. 

The new members: 
•	IndependentTag.AddReferences() 
•	IndependentTag.RemoveReferences() 
•	IndependentTag. MultiLeader 
are used to bulk add or remove references from a tag, and to  query if the tag references multiple elements. 

1.6.	<h2>Revision API changes
RevisionSettings API replacements 
The following methods have been deprecated and replaced due to terminology changes in the Revisions user interface:
Deprecated API	Replacement
RevisionSettings.GetNumericRevisionSettings()	RevisionNumberingSequence.GetAllRevisionNumberingSequences()
RevisionSettings.SetNumericRevisionSettings()	RevisionNumberingSequence.SetNumericRevisionSettings()
RevisionSettings.GetAlphanumericRevisionSettings()	RevisionNumberingSequence.GetAllRevisionNumberingSequences()
RevisionSettings.SetAlphanumericRevisionSettings()	RevisionNumberingSequence.SetAlphanumericRevisionSettings()

1.7.	<h2>Structural reinforcement API changes
Reinforcement bars now uses two diameter values instead of just one:
•	The model diameter which is used to model the reinforcement bars
•	The nominal diameter which is used for formula computations
The following members were deprecated and replaced.  Note that the deprecated members always reference the bar's "model diameter".
Deprecated member	Replacement members
BarTypeDiameterOptions.BarDiameter 	BarTypeDiameterOptions.BarModelDiameter 
BarTypeDiameterOptions.BarNominalDiameter 
RebarBarType.BarDiameter 	RebarBarType.BarModelDiameter 
RebarBarType.BarNominalDiameter 
RebarBendData.BarDiameter	RebarBendData.BarModelDiameter
RebarBendData.BarNominalDiameter 
RebarUpdateCurvesData.GetBarDiameter 	RebarUpdateCurvesData.GetBarModelDiameter 
RebarUpdateCurvesData.GetBarNominalDiameter 

1.8.	<h2>Import/Export API changes
1.8.1.	<h3>Import() and Link() methods now treat View as optional
The methods:
•	Document.Import()
•	Document.Link()
that take a View as an argument have been updated to accept null for that argument. This applies to all overloads of these methods except those that work with DWF. This View argument used to be required, but now null will be used to take an appropriate default action for the import operations.
1.8.2.	<h3>Export API replacements
The following property has been removed and replaced in this release. Because these were an immediate replacement, applications referencing the replaced property will need to be updated immediately for this release.
Removed member	Replaced member
DGNExportOptions.MasterUnits	DGNExportOptions.WorkingUnits

1.9.	<h2>MEP API changes
1.9.1.	<h3>Electrical API changes
The following method and property have been deprecated;  the old methods referred to temperature in terms on "long", which did not match the capabilities in the UI, and had an error when referring to non-Fahrenheit temperature values.   
Deprecated API	Replacement
TemperatureRatingType.AddCorrectionFactor(long temperature, double factor)	TemperatureRatingType.AddCorrectionFactor(double temperature, double factor)
CorrectionFactor.Temperature	CorrectionFactor.GetTemperature()
1.9.2.	<h3>Fabrication API changes
In a terminology change, the fabrication service "group" was renamed as a "palette" in order to align with changes made in the Revit user interface.  This affected the following members:

Deprecated API	Replacement
FabricationNetworkChangeService.SetGroupId()	FabricationNetworkChangeService.SetPaletteId()
FabricationNetworkChangeService.SetRestrictGroup()	FabricationNetworkChangeService.SetRestrictPalette()
FabricationService.GroupCount	FabricationService.PaletteCount
FabricationService.IsValidGroupIndex()	FabricationService.IsValidPaletteIndex()
FabricationService.GetGroupName()	FabricationService.GetPaletteName()
FabricationService.IsGroupExcluded()	FabricationService.IsPaletteExcluded()
FabricationService.SetServiceGroupExclusions()	FabricationService.SetServicePaletteExclusions()
FabricationServiceButton.GroupIndex	FabricationServiceButton.PaletteIndex
FabricationPartSizeMap.GroupId	FabricationPartSizeMap.PaletteId

The following properties have been deprecated.  Because they are not currently used and relate to not yet available capabilities, there is no replacement for these members.
Deprecated API	Replacement
FabricationConfigurationInfo.CloudVersion 	None
FabricationConfigurationInfo.IsConnected 	None
1.10.	<h2>PostableCommand enumeration update
Many updates have been made to the PostableCommand enumeration to match the current set of Revit commands. 
A good number of commands were newly added to the enumeration:
Anchors 
BatchPrint 
Bolts 
Collaborate 
CollaborateInCloud 
ConnectionSettings 
ContourCut 
CoordinationModel 
CoordinationSelectLink 
Cope 
CopeSkewed  
CopyMonitorSelectLink 
CopyMonitorUseCurrentProject 
CornerCut  
CutBy  
CutThrough  
DeleteEnergyModel 
Dynamo 
GetAutodeskContent 
GlobalParameters 
Holes 
ImportImage 
ImportPDF 
LinkImage 
LinkPDF 
LinkTopography 
LoadAsGroupIntoOpenProjects 
LoadFamilyIntoProjectAndClose 
LoadIntoProject  
LoadRebarShapeIntoProjectAndClose 
ManageCloudModels 
Miter  
Multiplanar 
MultiPointRouting 
NewFamily 
NewProject 
OpenFamily 
OpenIFC 
OpenIFCOptions 
OpenProject 
Optimize 
PAndIDModeler 
PAndIDSettings
PathOfTravel 
Plate 
PublishSettings  
RepairCentralModel 
ResetSharedCoordinates 
RevealObstacles 
SaveAsCloudModel 
SaveAsFamily 
SawCutFlange  
SawCutWeb  
ShapeStatus 
SharedViews 
ShearStuds 
Shorten 
ShowWarningsInViews 
SpaceNaming 
StructuralConnection  
StructuralRebarCoupler 
SystemsAnalysis 
SystemZone 
TitleBlock 
ToggleHome 
TogglePAndIDModelerBrowser 
ToggleRevealHiddenElementsMode 
Walkthrough 
Welds  
WorksharingMonitor 

Some enumeration values were renamed to match the current naming of the commands in the Revit UI.  There is no way to preserve the old name as obsoleted so code referring to these values will need to be updated:
Removed 	Replacement 
ExportMassModelGBXML  	ExportGBXML  
ModelBrowserContainer  	ToggleHome  
PlaceOnHost  	PlaceOnStairOrRamp 
Playlist  	DynamoPlayer  
RunEnergySimulation  	Generate  
ShowEnergyModel  	CreateEnergyModel  
UseCurrentProject  	CoordinationReviewUseCurrentProject 

Finally, some commands have been removed from the Revit UI. These commands can no longer be posted, so the values have been removed from the enumeration:
ExportBuildingSite  
PublishDGNToAutodeskBuzzsaw 
PublishDWFToAutodeskBuzzsaw  
PublishDWGToAutodeskBuzzsaw  
PublishDXFToAutodeskBuzzsaw  
PublishSATToAutodeskBuzzsaw  
RecentFiles  
ResultsAndCompare  
StairBySketch  
ViewRange  

1.11.	<h2>BuiltInFailures changes
Some changes have been made to existing BuiltInFailure definitions.  Code that looks for or handles specific failures may need updating, as it is not possible to obsolete the replaced members, so they have been removed in this release.
Failure submodule	Removed FailureDefinition 	Replacement FailureDefinition
WallFailures	ExtrudedWallMustBeVertical	ExtrudedWallDisallowedForCrossSectionType
GroupFailures	FailedToSetMasterGroupId	FailedToSetLeaderGroupId

1.12.	<h2>Filter API change
The constructor for the class FilterStringRule has been obsoleted and replaced.  The previous constructor has a Boolean argument for case sensitivity that was not used in View Filters and could not be used properly from the API, as all string comparisons in filters are case-insensitive:
Obsoleted member	Replacement member
FilterStringRule(FilterableValueProvider, FilterStringRuleEvaluator, String, boolean)	FilterStringRule(FilterableValueProvider, FilterStringRuleEvaluator, String) 
The method FilterStringRuleEvaluator.Evaluate() still has an argument "caseSensitive", but it's never called by filter code with this argument set to true.

1.13.	<h2>Ruby macros no longer supported
Due to technology limitations, the Macro Manager no longer supports Ruby language in Revit Macros. The option to create new Ruby macros has been removed from the UI and API, and existing Ruby Macros in previous version documents will be deleted during upgrade.

1.14.	<h2>TransmissionData API change
Autodesk.Revit.DB.TransmissionData.UserData is now used to store the systems analysis reports path, if any report exists in the document. This is to allow eTransmit to include external reports. The API method itself is not changed.

1.15.	<h2>Removal of obsoleted APIs
The following previously obsoleted APIs have been removed:
•	ModelPathUtils.ConvertCloudGUIDsToCloudPath(Guid projectId, Guid modelId)
•	Document.SaveAsCloudModel(String folderId, String modelName)
•	MEPModel.ElectricalSystems
•	MEPModel.AssignedElectricalSystems
•	StructuralConnectionHandler.Create(Document doc, List<ElementId> idsToConnect)

2.	<h1>API additions

2.1.	<h2>Sketched Elements API
2.1.1.	<h3>Ceiling creation
The new methods:
•	Ceiling.Create(Document document, IList<CurveLoop> curveLoops, ElementId ceilingTypeId, ElementId level)
•	Ceiling.Create(Document document, IList<CurveLoop> curveLoops, ElementId ceilingTypeId, ElementId levelId, Line slopeArrow, double slope)
create a new instance of a ceiling in a Revit project, with one overload supporting a sloped ceiling.fac
2.1.2.	<h3>Floor APIs
In addition to the replacement Floor creation methods described above, the new method:
•	Floor.GetDefaultFloorType(Document document, bool isFoundation)
returns the id of the default floor or foundation type for a document.
2.1.3.	<h3>Wall APIs
The new methods:
•	Wall.CreateProfileSketch()
•	Wall.RemoveProfileSketch()
•	Wall.CanHaveProfileSketch()
provide access to add and remove profile sketches to wall elements that support them.  Once a sketch is added, the profile sketch can be edited using SketchEditScope.
2.1.4.	<h3>Slanted and Tapered Walls
The new members:
•	Wall.CrossSection
•	Wall.IsWallCrossSectionValid()
allow assignment of a cross section type to a given wall, and determine if that type can be assigned.  
The new enumerations:
•	Autodesk.Revit.DB.WallCrossSection
•	Autodesk.Revit.DB.WidthMeasuredAt
•	Autodesk.Revit.DB.InsertOrientation
enumerate the values for options related to alternate wall cross section values, especially the options available for Tapered walls.  
2.1.5.	<h3>Sketch APIs
The new methods:
•	Ceiling.SketchId
•	Floor.SketchId
•	Wall.SketchId
•	Opening.SketchId
return the id of the element's sketch.
The method:
•	Sketch.OwnerId
returns the id of the element that owns this sketch.
The new method:
•	Sketch.GetAllElements()
returns the ids of all the elements owned by the sketch, including elements of type:
•	Autodesk.Revit.DB.ModelCurve
•	Autodesk.Revit.DB.ReferencePlane
•	Autodesk.Revit.DB.Dimension
This method works for any Sketch you can obtain from a Sketch-based element (Ceiling, Extrusion, etc.). It is available both in and outside of a SketchEditScope. 
2.1.6.	<h3>Editing Sketches with SketchEditScope
Using the new class:
•	Autodesk.Revit.DB.SketchEditScope
allows an application to edit sketch based elements while preserving the unchanged elements that are already present in the sketch.  While a Sketch editing session is active, you can add, delete or modify Sketch elements (curves, dimensions, reference planes). When you finish the session, the edited Sketch-based element will be updated.  Only certain sketches are currently supported for editing:
•	Ceiling sketches
•	Floor sketches
•	Wall profile sketches
•	Opening sketches
using the new members:
•	SketchEditScope constructor - creates a new SketchEditScope
•	SketchEditScope.Start() - starts editing a particular sketch, including starting the associated transaction.  After this is started only elements owned by the Sketch and new elements to be added to the Sketch may be modified.
•	SketchEditScope.IsSketchEditingSupported() - checks if a particular sketch can be edited with a SketchEditScope.
2.1.7.	<h3>Boundary validation for sketched elements
The new method:
•	BoundaryValidation.IsValidHorizontalBoundary() 
validates input curves form a valid horizontal boundary for Ceiling or Floor creation.
2.1.8.	<h3>CompoundStructure API
The new method:
•	CompoundStructure.CanSplitAndMergeRegionsBeUsed() 
checks whether split and merge regions operations can be used for this compound structure.  This validator is associated with the use of the existing M ergeRegionsAdjacentToSegment() and SplitRegion() methods. 

2.2.	<h2>Color Fill API
Multiple new classes provide access to color fills.  These classes expose  color   fill schemes, entries and color   f ill legends.  You can also also a ccess  the color  f ill scheme applied to a particular view. 
2.2.1.	<h3>Color Fill Schemes
The new class: 
•	Autodesk.Revit.DB.ColorFillScheme
represents a color scheme that can be applied to plan and section views.  Key new members of this class include:
•	ColorFillScheme.AddEntry()
•	ColorFillScheme.RemoveEntry()
•	ColorFillScheme.UpdateEntry()
•	ColorFillScheme.GetEntries()
•	ColorFillScheme.SetEntries()
•	ColorFillScheme.SortEntries()
•	ColorFillScheme.AreaSchemeId
•	ColorFillScheme.CategoryId
•	ColorFillScheme.ParameterDefinition
•	ColorFillScheme.StorageType
•	ColorFillScheme.Title
•	ColorFillScheme.Duplicate
•	ColorFillScheme.GetFormatOptions()
•	ColorFillScheme.SetFormatOptions()
•	ColorFillScheme.GetSupportedParameterIds()
2.2.2.	<h3>Color Fill Scheme Entries
The new class: 
•	Autodesk.Revit.DB.ColorFillSchemeEntry
represents an entry in a color scheme.  Key new members of this class include:
•	ColorFillSchemeEntry.Color
•	ColorFillSchemeEntry.FillPatternId
•	ColorFillSchemeEntry.Caption
•	ColorFillSchemeEntry.StorageType
•	ColorFillSchemeEntry.IsVisible
•	ColorFillSchemeEntry.IsInUse
•	ColorFillSchemeEntry.GetIntegerValue()
•	ColorFillSchemeEntry.GetDoubleValue
•	ColorFillSchemeEntry.GetStringValue()
•	ColorFillSchemeEntry.GetElementIdValue()
•	ColorFillSchemeEntry.SetIntegerValue()
•	ColorFillSchemeEntry.SetDoubleValue()
•	ColorFillSchemeEntry.SetStringValue()
•	ColorFillSchemeEntry.SetElementIdValue()
2.2.3.	<h3>View access to Color Fills
The new members:
•	View.GetColorFillSchemeId() 
•	View.SetColorFillSchemeId()
provide access to read and apply the color fill scheme associated with a particular category in the view.
2.2.4.	<h3>Color Fill Legends
The new class:
•	Autodesk.Revit.DB.ColorFillLegend
offers the ability to create, read and modify properties of color fill legend annotation elements in a particular owner view.  Key new members of this class include:
•	ColorFillLegend.Create()
•	ColorFillLegend.GetColumnWidths()
•	ColorFillLegend.SetColumnWidths()
•	ColorFillLegend.ColorFillCategoryId
•	ColorFillLegend.Height
•	ColorFillLegend.Origin

2.3.	<h2>Export API additions
2.3.1.	<h3>Export to PDF
The new method:
•	Document.Export(String, IList<ElementId>, PDFExportOptions)
exports one or more views and sheets in PDF format.  
The options provided, in the new class:
•	Autodesk.Revit.DB.PDFExportOptions
include graphical options, paper and output format options, and the option to combine output views and sheets into a single PDF or to produce a different PDF for each view and sheet with a specific naming convention.
2.3.2.	<h3>PDF Export Settings
The new element class:
•	Autodesk.Revit.DB.ExportPDFSettings
represents a named stored PDF export option available in a document.    You can use this class to extract the options from this element to use for exporting to PDF, or modify or create new stored settings with different options.  

2.4.	<h2>Civil Alignments API
Revit now provides support for Civil Alignments and their associated annotations. Alignments are imported from InfraWorks as a part of the workflow to transfer Civil Structures. The API supports read of alignment properties and geometric information, along with read/write and create of associated annotations. All new classes for the Alignments API are exposed through a different assembly in the Revit installation, located at: Addins\CivilAlignments\Autodesk.CivilAlignments.DBApplication.dll 
The new class:
•	Autodesk.Revit.DB.Infrastructure.Alignment
represents an alignment and can be used to find alignments in a document, and to query a particular alignment's properties and to analyze alignment geometry. This object is not an Element, but the underlying Element can be obtained from this object if needed.
The new class:
•	Autodesk.Revit.DB.Infrastructure.AlignmentStationLabel
represents an alignment station label annotation and can be used to find such labels in a document as well as to create and modify such labels. This object is not an Element, but the underlying Element (which is a SpotDimension instance) can be obtained from this object if needed.
The new classes:
•	Autodesk.Revit.DB.Infrastructure.AlignmentStationLabelOptions
•	Autodesk.Revit.DB.Infrastructure.AlignmentStationLabelSetOptions
provide options for creating a single alignment label or for creating a set of alignment labels.

2.5.	<h2>DirectShape API Additions
2.5.1.	<h3>Reference Curves, Planes, and Points
The new methods:
•	DirectShape.AddReferenceCurve()
•	DirectShape.AddReferencePlane()
•	DirectShape.AddReferencePoint()
•	DirectShapeType.AddReferenceCurve()
•	DirectShapeType.AddReferencePlane()
•	DirectShapeType.AddReferencePoint()
enable the creation of reference curves, planes and points inside DirectShape elements.   Explicit bounds can be provided for direct shape reference curves and planes.  Revit tools that can use named references within families will also be able to select the references inside the DirectShape elements.
The overloads for these methods include an optional DirectShapeReferenceOptions input.  Use:
•	DirectShapeReferenceOptions.Name
to set the assigned name for the reference.  If the name is specified, it is visible when picking the reference's geometry. Otherwise, the default DirectShape element name is displayed.
The new validator:
•	DirectShapeReferenceOptions.IsValidReferenceName()
validates the name assigned to DirectShapeReferenceOptions.Name.
The new validators:
•	DirectShape.IsValidReferenceCurve()
•	DirectShape.IsValidReferencePlaneBoundingBoxUV()
•	DirectShapeType.IsValidReferenceCurve()
•	DirectShapeType.IsValidReferencePlaneBoundingBoxUV()
validates the inputs needed for specifying a plane or curve explicit reference in the DirectShape.
2.5.2.	<h3>External Geometry
The new class:
•	ExternalGeometryId
represents an identifier for geometry from external sources. 
The new members:
•	ExternalGeometryId.IsValidExternalGeometryId()
•	ExternalGeometryId.Id
provide validation of an identifier and a means to access the identifier as a String.
The new class:
•	ExternallyTaggedGeometryObject
serves as a base class for externally tagged geometry. 
The new members:
•	ExternallyTaggedGeometryObject.ExternalId
provides the ExternalGeometryId associated with the geometry.
The new class:
•	ExternallyTaggedNonBRep
represents non-BRep geometry with an external identifier. 
The new class:
•	ExternallyTaggedBRep
represents BRep (Solid) geometry with external identifiers for the BRep itself and any subset of Faces or Edges.
The new class:
•	BRepBuilderPersistentIds
Provides a mechanism to associate external identifiers with geometry created by a BRepBuilder.
The new members:
•	BRepBuilderPersistentIds.AddSubTag()
•	BRepBuilderPersistentIds.IsValidExternalGeometryIdForNewCorrespondence()
•	BRepBuilderPersistentIds.IsValidBRepBuilderGeometryIdForNewCorrespondence()
•	BRepBuilderPersistentIds.IsAssociatedBRepBuilderValid()
•	BRepBuilderPersistentIds.IsBRepBuilderGeometryIdFaceOrEdge()
provide an ability to associate “tags” with Faces and Edges created by BRepBuilder.
A new member:
•	BRepBuilder.GetResult()
accepting a BRepBuilderPersistentIds has been added which returns an ExternallyTaggedBRep.
The new class:
•	ExternallyTaggedGeometryValidation
provides validators
•	ExternallyTaggedGeometryValidation.IsValidGeometry
•	ExternallyTaggedGeometryValidation.IsNonSolid
•	ExternallyTaggedGeometryValidation.IsSolid
to help determine validity of a GeometryObject for use with the new externally tagged geometry.
The new members:
•	DirectShape.AddExternallyTaggedGeometry()
•	DirectShape.GetExternallyTaggedGeometry()
•	DirectShape.HasExternallyTaggedGeometry()
•	DirectShape.UpdateExternallyTaggedGeometry()
•	DirectShape.RemoveExternallyTaggedGeometry()
•	DirectShape.ResetExternallyTaggedGeometry()
•	DirectShapeType.AddExternallyTaggedGeometry()
•	DirectShapeType.GetExternallyTaggedGeometry()
•	DirectShapeType.HasExternallyTaggedGeometry()
•	DirectShapeType.UpdateExternallyTaggedGeometry()
•	DirectShapeType.RemoveExternallyTaggedGeometry()
•	DirectShapeType.ResetExternallyTaggedGeometry()
provide a means to add, remove, update, or retrieve an ExternallyTaggedGeometryObject to/from a DirectShape or DirectShapeType.
2.5.3.	<h3>Custom Family names
The new member:
•	DirectShapeType.SetFamilyName()
provides the ability to set a custom Family name for a DirectShapeType.
The new validator:
•	DirectShapeType.CanChangeFamilyName()
provides the ability to check if a DirectShapeType supports a custom Family name.  Certain categories do not support custom Family names.

2.6.	<h2>Document & Worksharing API additions
2.6.1.	<h3>Cloud Model API additions
Four new methods allow access to identifying forge IDs for Cloud Models:
•	Document.GetHubId(): ForgeDM hub id where the model locates. 
•	Document.GetProjectId(): ForgeDM project id where the model locates. 
•	Document.GetCloudFolderId(bool forceRefresh): ForgeDM folder id where the model locates.  
•	Document.GetCloudModelUrn(): A ForgeDM Urn identifying the model. 
These methods all return strings, which will be empty for a document which is not a cloud model. 
2.6.2.	<h3>OpenOptions API
The new property:
•	OpenOptions.IgnoreExtensibleStorageSchemaConflict
allows your application to ignore a schema conflict error on open. The default is false. Setting this to true will ignore the exception of schema conflict while opening the model. Data in the existing schema with the conflicting ID will be erased from the model.

2.7.	<h2>View API additions
2.7.1.	<h3>Label for views on sheets (Viewport)
The new property:
•	Viewport.LabelOffset
controls the two-dimensional label offset from left bottom corner of the viewport (as established with Rotation set to None) to the left end of the viewport label line. 
The new property:
•	Viewport.LabelLineLength
controls the length of the viewport label line in sheet space.
2.7.2.	<h3>Callout view
The new method:
•	View.GetCalloutParentId()
returns the ID of a view which this callout references, or InvalidElementId if there is not parent.
The new property:
•	View.IsCallout
identifies if the view is a callout view.
2.7.3.	<h3>Grids in 3D views
Several new methods in View3D control grid visibility in 3D Views:
•	View3D.GetLevelsThatShowGrids()
•	View3D.ShowGridsOnLevel(ElementId levelId)
•	View3D.HideGridsOnLevel(ElementId levelId)
•	View3D.ShowGridsOnLevels(ElementIdset levelIds)

2.8.	<h2>Graphics API additions
2.8.1.	<h3>Temporary in-canvas graphics
The new class:
•	TemporaryGraphicsManager
allows the creation of temporary graphics in the canvas and can be used to create in-canvas controls. 
It has the following members:
•	TemporaryGraphicsManager.GetTemporaryGraphicsManager() 
•	TemporaryGraphicsManager.AddControl() 
•	TemporaryGraphicsManager.UpdateControl() 
•	TemporaryGraphicsManager.RemoveControl() 
•	TemporaryGraphicsManager.SetVisibility() 
•	TemporaryGraphicsManager.GetAll() 
•	TemporaryGraphicsManager.Clear() 
The new class:
•	InCanvasControlData 
stores a reference to the image used in the temporary graphics. It has the following properties: 
•	InCanvasControlData.ImagePath 
•	InCanvasControlData.Position 

2.9.	<h2>Label API additions
The new methods:
•	Level.GetNearestLevelId(Document document, double elevation)
•	Level.GetNearestLevelId(Document document, double elevation, out double offset)
return the id of the Level which is closest to the specified elevation. The level can be at, above or below the target elevation. If there is more than one Level at the same distance from the elevation, the Level with the lowest id will be returned. 

2.10.	<h2>Parameter API additions
The new class:
•	Autodesk.Revit.DB.MultipleValuesIndicationSettings
allows access to the custom value for used in instances of the Properties Palette, Tags and Schedules when multiple elements are referenced and the value of the parameter is different.
The new members:
•	MultipleValuesIndicationSettings.GetMultipleValuesIndicationSettings()
•	MultipleValuesIndicationSettings.Custom
•	MultipleValuesIndicationSettings.CustomValue
•	MultipleValuesIndicationSettings.Value
provide access to the settings in the document, the option for the custom value, and read-only access to the value that will be used (either the custom value or the default).

2.11.	<h2>Dimension API additions
2.11.1.	<h3>Dimension layout
Several new properties allow access to positioning for various parts of a dimension:
•	Dimension.TextPosition
•	Dimension.LeaderEndPosition
•	Dimension.HasLeader
•	SpotDimension.LeaderElbowPosition
•	SpotDimension.LeaderHasElbow
2.11.2.	<h3>DimensionType prefix/suffix
The new properties:
•	DimensionType.Prefix
•	DimensionType.Suffix
allow access to the corresponding values in the dimension type.

2.12.	<h2>Category API additions
2.12.1.	<h3>Built in Categories
The new methods:
•	Category.GetBuiltInCategoryTypeId(BuiltInCategory)
•	Category.GetBuiltInCategory(ForgeTypeId)
•	Category.IsBuiltInCategory(ForgeTypeId)
allow access to BuiltInCategories. 

2.13.	<h2>Shared Coordinates API additions
2.13.1.	<h3>Reset Shared Coordinates
The new method:
•	Document.ResetSharedCoordinates()
resets the shared coordinates for the host model. It provides the same functionality as the UI Command "Reset Shared Coordinates". 
After resetting coordinates, the following changes will take place:
1.	GIS coordinate system will be erased
2.	Shared coordinates relationships with other linked models will be eliminated.
3.	The Survey Point will be moved back to the startup location, where it coincides with the Internal Origin.
4.	The angle between Project North and True North will be reset to 0.
Note: There will be no changes to linked models.
2.13.2.	<h3>Clipped state of BasePoint
The new property: 
•	bool BasePoint.Clipped
will get or set the clipped state of the survey point BasePoint based on the active ProjectLocation of its Document. For the project base point, the get method will always return false, and the set method will throw an exception. 

2.14.	<h2>Revision API additions
Revision sequences and API additions 
The new class:
•	Autodesk.Revit.DB.RevisionNumberingSequence
defines the sequences by which numbers are assigned to Revisions. Revision numbering is either numeric or alphanumeric. Revision numbering is assigned to Revisions to control the numbering scheme of that Revision. Alphanumeric from the API corresponds to the UI concept of "Custom".
The new members:
•	RevisionNumberingSequence.CreateNumericSequence()
•	RevisionNumberingSequence.CreateAlphanumericSequence()
•	RevisionNumberingSequence.GetSequenceName()
•	RevisionNumberingSequence.SetSequenceName()
•	RevisionNumberingSequence.GetNumericRevisionSettings()
•	RevisionNumberingSequence.SetNumericRevisionSettings()
•	RevisionNumberingSequence.GetAlphanumericRevisionSettings()
•	RevisionNumberingSequence.SetAlphanumericRevisionSettings()
•	RevisionNumberingSequence.GetAllRevisionNumberingSequences()
•	RevisionNumberingSequence.HasValidRevisionSettingsForNumberType()
•	RevisionNumberingSequence.HasValidNumericRevisionSettings()
•	RevisionNumberingSequence.HasValidAlphanumericRevisionSettings()
•	RevisionNumberingSequence.NumberType
provide the ability to create, read and modify the settings related to Revision numbering sequences.
The new methods:
•	Revision.GetRevisionNumberingSequenceId()
•	Revision.SetRevisionNumberingSequenceId()
provide access to the id of the revision numbering sequence which controls this revision's numbering:
 
The new methods:
•	NumericRevisionSettings.GetMinimumDigits() - get the minimum number of digits for a revision number.
•	NumericRevisionSettings.SetMinimumDigits() - set the minimum number of digits for a revision number.
provide access to the setting controlling the minimum number of digits for a revision number.

2.15.	<h2>Phasing API additions
The new methods:
•	Element.IsDemolishedPhaseOrderValid()
•	Element.IsCreatedPhaseOrderValid()
validate the order of phases on a given element with respect to the input phase id, ensuring that an object is not assigned a phase where it is demolished before it was created. 

2.16.	<h2>Geometry API additions
The new property:
•	Mesh.IsClosed 
checks if each edge in the mesh belongs to at least two faces.  

2.17.	<h2>Point Cloud API additions
The new method:
•	PointCloudType.GetReCapProject()
provides a direct entry point to get access to an object from the ReCap SDK (ReCapWrapper.RCProject) from Revit. This object represents the point cloud from the RC file path stored in PointCloudType. The ReCap assembly ReCapWrapper.dll will need to be included into code using this method.  
The coordinate system in RCProject is defined by the Point Cloud. Please refer to ReCap SDK documentation for RCProject.getCoordinateSystem(). If you need points converted to the modeling coordinate system in Revit, you can obtain the transformation matrix from PointCloudInstance.GetTransform().

2.18.	<h2>Schedule API additions
2.18.1.	<h3>Multiple Value Indication - schedule customization
The existing class:
•	ScheduleField
has several new properties which allow customization of the multiple value indication per field:
•	ScheduleField.MultipleValuesDisplayType
•	ScheduleField.MultipleValuesText - The text to be used when a field has multiple values
•	ScheduleField.MultipleValuesCustomText - The text to be used when a field has multiple values and the display type is set to ScheduleFieldMultipleValuesDisplayType.Custom
The new Enum:
•	ScheduleFieldMultipleValuesDisplayType
defines how the schedule field's multiple value indication is displayed (using the project setting, a custom text or a predefined text "<varies>").

2.19.	<h2>Import API additions
2.19.1.	<h3>Import/Link Rhino
The new methods:
•	Document.Import(String, ImportOptions3DM, View)
•	Document.Link(String, ImportOptions3DM, View)
import or link a 3DM file into the document.

2.20.	<h2>Structural API additions
2.20.1.	<h3>Moving individual rebar in a Rebar Set
The new methods: 
•	Rebar.MoveBarInSet() 
•	Rebar.GetBarIndexFromReference() 
•	Rebar.GetMovedBarTransform() 
•	Rebar.ResetMovedBarTransform() 
allow an application to move an individual bar, and to read and reset the transform of the individual bar in a Rebar Set. 
2.20.2.	<h3>Removing individual bars from a Rebar Set
The new function: 
•	Rebar.SetBarIncluded() 
allows you to designate a particular bar at a given index to be included or not. 
The existing properties: 
•	Rebar.IncludeFirstBar 
•	Rebar.IncludeFirstBar 
continue to function as before, and setting these to true are equivalent to removing the bar at the first or last position index. 
The existing function: 
•	Rebar.DoesBarExistAtPosition() 
now supports returning false for any bar position index and not just the first or last bar. 
2.20.3.	<h3>Moving and Removing bars owned by PathReinforcement
The new methods: 
•	RebarInSystem.SetBarIncluded() 
•	RebarInSystem.MoveBarInSet() 
•	RebarInSystem.GetMovedBarTransform() 
•	RebarInSystem.ResetMovedBarTransform() 
•	RebarInSystem.CanEditIndividualBars() 
provide access to move, include or remove individual bars only for RebarInSystem elements that are owned by PathReinforcement.  (This is not supported for RebarInSystem owned by AreaReinforcement). 
2.20.4.	<h3>Area Reinforcement Layers
The new methods: 
•	AreaReinforcement.GetNumberOfLines() 
•	AreaReinforcement.GetLineFromLayerAtIndex()
•	AreaReinforcement.SetLineIncluded()
•	AreaReinforcement.IsLineIncluded()
•	AreaReinforcement.MoveLine()
•	AreaReinforcement.GetMovedLineTransform()
•	AreaReinforcement.ResetMovedLineTransform() 
•	AreaReinforcement.SetLayerActive() 
•	AreaReinforcement.IsLayerActive() 
•	AreaReinforcement.GetLayerDirection() 
provide access to the layers of Area Reinforcement elements, and to manipulate (move and remove) the individual lines exposed through those layers. 
2.20.5.	<h3>Rebar conversion
The new methods:
•	AreaReinforcement.ConvertRebarInSystemToRebars() 
•	PathReinforcement.ConvertRebarInSystemToRebars() 
convert all of the RebarInSystem elements owned by the input element into equivalent Rebar elements.
2.20.6.	<h3>Rebar geometry
The new methods:
•	Rebar.GetTransformedCenterlineCurves() 
•	RebarInSystem.GetTransformedCenterlineCurves() 
return the centerline curves for a given bar, where the geometry of the curves are in the actual transformed position. The BarPositionTransform (representing the relative position of any individual bar in the set - a translation along the distribution path) and MovedBarTransform (representing the movement of the bar relative to its default position along the distribution path) will be applied to the returned curves. 
2.20.7.	<h3>Freeform Rebar 
The new properties:
•	RebarFreeFormAccessor.RebarStyle
•	RebarFreeFormAccessor.StirrupTieAttachmentType
provides read and write access to the corresponding properties of freeform rebar elements.
The new method:
•	RebarFreeFormAccessor.SetReportedShape()
changes the rebar shape of a freeform rebar that is currently using the RebarWorkInstructions.Straight option to the provided rebar shape.

2.21.	<h2>MEP API additions
2.21.1.	<h3>Building and Space Type additions
Several new properties have been added for Building and Space Types:
•	HVACLoadType.HeatingSetPoint - The heating temperature set point in unit Kelvin (K).
•	HVACLoadType.CoolingSetPoint - The cooling temperature set point in unit Kelvin (K).
•	HVACLoadType.HumidificationSetPoint - The humidification set point as a number between 0 and 1.
•	HVACLoadType.DehumidificationSetPoint - The dehumidification set point as a number between 0 and 1.
2.21.2.	<h3>Zone additions
The new property:
•	GenericZone.LevelOffset
gets or sets the offset distance from this zone to the associated level.
2.21.3.	<h3>Mechanical Systems Analysis Set Points
The new properties: 
•	HVACLoadType.HeatingSetPoint
•	HVACLoadType.CoolingSetPoint 
•	HVACLoadType.HumidificationSetPoint 
•	HVACLoadType.DehumidificationSetPoint 
provide access to the heating temperature, cooling temperature, humidification and dehumidifcation set point values.  Temperature set points are in Kelvin, while humidity set points are percentages ranging from 0 to 1. 
2.21.4.	<h3>Analysis Report Style
The new property: 
•	ViewSystemsAnalysisReport.ReportStyle 
accesses the report style used in a particular analysis report view.  
2.21.5.	<h3>MEP Hidden Line Settings
The new class:
•	Autodesk.Revit.DB.Mechanical.MEPHiddenLineSettings
represents the settings of the mechanical hidden line display (e.g. ducts and pipes). It can be obtained from the static method:
•	MEPHiddenLineSettings.GetMEPHiddenLineSettings(Document)
It offers the following properties:
•	MEPHiddenLineSettings.DrawHiddenLine
•	MEPHiddenLineSettings.LineStyle 
•	MEPHiddenLineSettings.InsideGap
•	MEPHiddenLineSettings.OutsideGap
•	MEPHiddenLineSettings.SingleLineGap
2.21.6.	<h3>Electrical Panel Schedule
The new property:
•	PanelScheduleData.IsAutoShadingForLoadDisplay
indicates if a panel schedule will display shading for Load cells automatically.
2.21.7.	<h3>Conversion to Fabrication
The new method to the DesignToFabricationConverter class:
•	DesignToFabricationConverter.SetMapForFamilySymbolToFabricationPartType()
The method will set a map used when the design to fabrication tool is running.  The map relationships will be used to replace any family instance that is based upon the family symbols found in the map with the corresponding fabrication part for the fabrication part type set in the mapping. 

2.22.	<h2>Energy Analysis API additions
The options used to produce an energy model or export to gbXML have been unified. 
The new enumeration value: 
•	AnalysisMode.RoomsOrSpaces 
indicates that the energy analysis model should be based on volumes from rooms or spaces defined in the building model. 
The new enumeration values: 
•	EnergyModelType.AnalysisMode 
•	ExportEnergyModelType.AnalysisMode
allow specification of the energy model production based on the given analysis type.
