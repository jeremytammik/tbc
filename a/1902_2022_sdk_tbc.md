<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>
</head>

<!---

https://forums.autodesk.com/t5/revit-api-forum/revit-2022-parametertype-text-to-forgetypeid/m-p/10247574

https://www.oreilly.com/online-learning/feature-answers.html

> Need a quick solution you can put to work fast? Just ask O’Reilly Answers. It’s an advanced natural language processing engine that instantly scans thousands of O’Reilly titles to find the snippet that can save the day. Just ask and you shall find. Highlighted, even.

Need a quick solution you can put to work fast? Just ask O’Reilly Answers. It’s an advanced natural language processing engine that instantly scans thousands of O’Reilly titles to find the snippet that can save the day. Just ask and you shall find. Highlighted, even.

To use O’Reilly Answers in Slack, type `/oreilly-answers` followed by a question to scan the O'Reilly content and get the answer.

https://autodesk.slack.com/archives/C0KBT3859/p1618938930051100

twitter:

 the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon
 
&ndash;
...

linkedin:

#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<center>
<img src="img/" alt="" title="" width="600"/>
<p style="font-size: 80%; font-style:italic"></p>
<p style="font-size: 80%; font-style:italic">
<a href=""></a>
</p>
</center>

-->

### Revit 2022 SDK and The Building Coder Samples

The Revit 2022 SDK is now available for download from
the [Revit Developer Centre, autodesk.com/developrevit](https://www.autodesk.com/developer-network/platform-technologies/revit).

I logged my experiences installing and compiling it, setting up the RvtSamples application to load all the SDK external commands, and migrating The Building Coder samples to the new release:


####<a name="2"></a> First the Logs

In reality, I migrated RevitLookup first, then The Building Coder samples, and last I installed the SDK and set up RvtSamples.
Here are my log files of error, warnings and WIP notes in that order:

- [RevitLookup](zip/revit_2022_revitlookup_errors_warnings_0.txt)
- [The Building Coder samples](zip/tbc_samples_2022_migr_01.txt)
- [Revit 2022 SDK and RvtSamples](zip/revit_2022_sdk_samples_errors_warnings_1.txt)

Let's look at the SDK installation first, though:

####<a name="2"></a> Revit 2022 SDK Warnings

The first thing I did was update
my [RevitSdkSamples GitHub repository](https://github.com/jeremytammik/RevitSdkSamples) to
the new release, enabling me (and you) to easily track all the changes I made,
cf. [release 2022.0.0.0](https://github.com/jeremytammik/RevitSdkSamples/releases/tag/2022.0.0.0) and subsequent ones.

I loaded the `SDKSamples.sln` solution file and was glad to note that the Reevit API assembly references were all set up and ready to go.
The compilation succeeded out of the box and all 196 projects completed.
The compilation generated 49 warnings.

Most of the warnings concern the
ever-recurring [architecture mismatch issue](http://thebuildingcoder.typepad.com/blog/2013/06/processor-architecture-mismatch-warning.html)
and can be resolved using
my [DisableMismatchWarning.exe utility](http://thebuildingcoder.typepad.com/blog/2013/07/recursively-disable-architecture-mismatch-warning.html)
implemented back in 2013 and available from
the [DisableMismatchWarning GitHub repository](https://github.com/jeremytammik/DisableMismatchWarning).

After fixing those, only seven warnings remain;
two were due to missing XML documentation comments, and three missing rule sets. 
I added two trivial documentation comments and deleted a reference to one of the rule sets.

In the end, four warnings remain that I will ignore for now;
actually, I don't even know what is casuing them or how they could be fixed:

- GeometryCreation_BooleanOperation: Could not find rule set file "GeometryCreation_BooleanOperation.ruleset".				
- ProximityDetection_WallJoinControl: Could not find rule set file "ProximityDetection_WallJoinControl.ruleset".				
- AppearanceAssetEditing: `Microsoft.Csharp.targets` cannot be imported again. It was already imported... This is most likely a build authoring error. This subsequent import will be ignored.
- SampleCommandsSteelElements: ditto

####<a name="3"></a> Setting up RvtSamples

To set up RvtSamples, I need to do two things:

The first is trivial &ndash; adapt its `*.addin` file appropriately and copy it to the Revit `AddIns` folder.

The second is mostly a lot more work, fixing up the `RvtSamples.txt` file to correctly list all the external commands defined by the SDK, specifically the pathname of their assembly DLL and their correct .NET class name.

To help with that, I temporaily turn on a debugging flag that tests the validity of that data by attempting to load and thus test the existence of each external command.

That turned up a few errors, e.g.:

- Erroneous `bin` path in several VB.NET samples, `VB.NET/bin/Debug/` instead of `/VB.NET/bin/`
- Duplicate menu item name `Infrastructure alignments`

In the end, all loaded fine:

<center>
<img src="img/rvtsamples_2022.png" alt="RvtSamples 2022" title="RvtSamples 2022" width="100"> <!-- 788 -->
</center>

You can track the changes I made in
the [GitHub diffs](https://github.com/jeremytammik/RevitSdkSamples/compare/2022.0.0.2...2022.0.0.4).


####<a name="4"></a> The Building Coder Samples Migration

Reference New API Assemblies

referenced revit 2022 api assemblies

1 succeeded, 0 failed, 0 skipped, 0 errors, 35 warnings:


<pre class="code">
</pre>


added BcSamples

RvtSamples: External command class BuildingCoder.CmdParameterUnitConverter in assembly 'Y:\a\src\rvt\the_building_coder_samples\BuildingCoder\BuildingCoder\bin\Debug\BuildingCoder.dll' specified in line 2338 of RvtSamples.txt not found

External command class BuildingCoder.CmdDutAbbreviation in assembly 'Y:\a\src\rvt\the_building_coder_samples\BuildingCoder\BuildingCoder\bin\Debug\BuildingCoder.dll' specified in line 2401 of RvtSamples.txt not found

<center>
<img src="img/tbc_samples_2022.png" alt="The Building Coder samples 2022" title="The Building Coder samples 2022" width="100"> <!-- 788 -->
</center>


####<a name="5"></a> RevitLookup 2022


Cannot test, because use RvtSamplkes to load them...


