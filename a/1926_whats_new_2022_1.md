<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>

<style>
  ul.toc { list-style-type: none; }
  h1.new { font-size: 150%; }
  h2.new { font-size: 150%; }
  h3.new { font-size: 120%; }
  h4.new { font-size: 120%; }
</style>

</head>

<!---

- blog 2022.1
  create what's new
  check diff files
  diff
  /Users/jta/a/lib/revit/jeremy/diff_2022_2022_1_obj.txt
  /Users/jta/a/lib/revit/jeremy/diff_2022_2022_1.txt


twitter:

What's New in the Revit 2022.1 API? Exciting new functionality, migration information, overview of changes and additions, table of contents, full details of all new aspects of the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon

The Revit 2022.1 API includes an exceptional list of exciting enhancements for add-in developers, including numerous developer wishes and requests that have now been explicitly addressed
&ndash; Information sources
&ndash; What's new in previous versions
&ndash; Detailed tasble of contents
&ndash; API Changes
&ndash; API Additions...

linkedin:

#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<center>
<img src="img/" alt="" title="" width="600"/>
<p style="font-size: 80%; font-style:italic"></p>
</center>

-->

### What's New in the Revit 2022.1 API

The Revit 2022.1 API includes some important enhancements addressing new Revit product functionality and developer wishes and requests:

- [Information sources](#1)
- [What's new in previous versions](#2)
- [Detailed table of contents](#4)

Table of contents top level:

<ul class="toc">
<li>1 <a href="#4.1">API Changes</a></li>
<ul class="toc">
<li>1.1 <a href="#4.1.1"></a></li>
<li>1.15 <a href="#4.1.15"></a></li>
</ul>
<li>2 <a href="#4.2">API Additions</a></li>
<ul class="toc">
<li>2.1 <a href="#4.2.1"></a></li>
<li>2.22 <a href="#4.2.22"></a></li>
</ul>
</ul>

####<a name="1"></a>Information Sources

The information below is based on the contents of the *Revit Platform API Changes and Additions.docx* document included with
the Revit 2022 SDK, the software developers kit available from
the [Revit Developer Centre](https://www.autodesk.com/developer-network/platform-technologies/revit).

It is also provided in the section on *What's New* in the Revit 2022 API help file `RevitAPI.chm` included with the SDK:

<center>
<img src="img/whats_new_2022.png" alt="Revit 2022 API help on What's New" title="Revit 2022 API help on What's New" width="567"/> <!-- 1134 -->
</center>

For convenient, easy, and effective web searching, this blog post provides a cleaned-up online HTML version of that information with numbering and table of contents added, as well as the following PDF printout of the original document included in the SDK:

- [Revit_Platform_API_Changes_and_Additions_2022.pdf](zip/Revit_Platform_API_Changes_and_Additions_2022.pdf)

The *What's New* section and the *Changes and Additions* document provide important information, both for discovering and exploring the newly added API functionality and for later reference.

If you encounter any issues migrating your existing add-ins between different versions, this is one of the first places to look.

For detailed information on all other aspects of the Revit API, please refer to the rest of the API documentation and samples provided in the SDK.

The most important things to install and always keep at hand are:

- The Revit API help file `RevitAPI.chm`
- The Visual Studio solution containing all the SDK samples, `Samples\SDKSamples.sln`

You will regularly need both for research on how to solve specific Revit API programming tasks.

More in-depth official explanations and background information is provided by the
online [Revit API Developers Guide](http://help.autodesk.com/view/RVT/2022/ENU/?guid=Revit_API_Revit_API_Developers_Guide_html) included
in the [Revit 2022 online help](http://help.autodesk.com/view/RVT/2022/ENU).

####<a name="2"></a>What's New in Previous Versions

Here are links to previous discussions of *What's New in the Revit API*:

- [What's New in the Revit 2010 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2010-api.html)
- [What's New in the Revit 2011 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2011-api.html)
- [What's New in the Revit 2012 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2012-api.html)
- [What's New in the Revit 2013 API](http://thebuildingcoder.typepad.com/blog/2013/03/whats-new-in-the-revit-2013-api.html)
- [What's New in the Revit 2014 API](http://thebuildingcoder.typepad.com/blog/2013/04/whats-new-in-the-revit-2014-api.html)
- [What's New in the Revit 2015 API](http://thebuildingcoder.typepad.com/blog/2014/04/whats-new-in-the-revit-2015-api.html)
- [What's New in the Revit 2016 API](http://thebuildingcoder.typepad.com/blog/2015/04/whats-new-in-the-revit-2016-api.html)
- [What's New in the Revit 2017 API](http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html)
- [What's New in the Revit 2017.1 API](http://thebuildingcoder.typepad.com/blog/2016/11/whats-new-in-the-revit-20171-api.html)
- [What's New in the Revit 2018 API](http://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html)
- [Revit 2018.1 and the Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/08/revit-20181-and-the-visual-materials-api.html)
- [Revit 2018.1.1 and 2018.1 API Docs Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html)
- [Revit 2018.1 Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/11/modifying-material-visual-appearance.html)
- [What's New in the Revit 2018.2 API](http://thebuildingcoder.typepad.com/blog/2017/12/whats-new-in-the-revit-20182-api.html)
- [What's New in the Revit 2019 API](http://thebuildingcoder.typepad.com/blog/2018/04/whats-new-in-the-revit-2019-api.html)
- [What's New in the Revit 2020 API](https://thebuildingcoder.typepad.com/blog/2019/04/whats-new-in-the-revit-2020-api.html)
- [What's New in the Revit 2020.1 API](https://thebuildingcoder.typepad.com/blog/2019/09/whats-new-in-the-revit-20201-api.html)
- [What's New in the Revit 2021 API](https://thebuildingcoder.typepad.com/blog/2020/04/whats-new-in-the-revit-2021-api.html)
- [What's New in the Revit 2021.1 API](https://thebuildingcoder.typepad.com/blog/2020/08/revit-20211-sdk-and-whats-new.html)

####<a name="4"></a>Detailed Table of Contents

<ul class="toc">
<li>2 <a href="#4.2">API Additions</a></li>
<ul class="toc">
<li>2.1 <a href="#4.2.1">Sketched Elements API</a></li>
<ul class="toc">
<li>2.1.1 <a href="#4.2.1.1">Ceiling creation</a></li>
<li>2.1.2 <a href="#4.2.1.2">Floor APIs</a></li>
<li>2.1.3 <a href="#4.2.1.3">Wall APIs</a></li>
<li>2.1.4 <a href="#4.2.1.4">Slanted and Tapered Walls</a></li>
<li>2.1.5 <a href="#4.2.1.5">Sketch APIs</a></li>
<li>2.1.6 <a href="#4.2.1.6">Editing Sketches with SketchEditScope</a></li>
<li>2.1.7 <a href="#4.2.1.7">Boundary validation for sketched elements</a></li>
<li>2.1.8 <a href="#4.2.1.8">CompoundStructure API</a></li>
</ul>
<li>2.2 <a href="#4.2.2">Color Fill API</a></li>
<ul class="toc">
<li>2.2.1 <a href="#4.2.2.1">Color Fill Schemes</a></li>
<li>2.2.2 <a href="#4.2.2.2">Color Fill Scheme Entries</a></li>
<li>2.2.3 <a href="#4.2.2.3">View access to Color Fills</a></li>
<li>2.2.4 <a href="#4.2.2.4">Color Fill Legends</a></li>
</ul>
<li>2.3 <a href="#4.2.3">Export API additions</a></li>
<ul class="toc">
<li>2.3.1 <a href="#4.2.3.1">Export to PDF</a></li>
<li>2.3.2 <a href="#4.2.3.2">PDF Export Settings</a></li>
</ul>
<li>2.4 <a href="#4.2.4">Civil Alignments API</a></li>
<li>2.5 <a href="#4.2.5">DirectShape API Additions</a></li>
<ul class="toc">
<li>2.5.1 <a href="#4.2.5.1">Reference Curves, Planes, and Points</a></li>
<li>2.5.2 <a href="#4.2.5.2">External Geometry</a></li>
<li>2.5.3 <a href="#4.2.5.3">Custom Family names</a></li>
</ul>
<li>2.6 <a href="#4.2.6">Document & Worksharing API additions</a></li>
<ul class="toc">
<li>2.6.1 <a href="#4.2.6.1">Cloud Model API additions</a></li>
<li>2.6.2 <a href="#4.2.6.2">OpenOptions API</a></li>
</ul>
<li>2.7 <a href="#4.2.7">View API additions</a></li>
<ul class="toc">
<li>2.7.1 <a href="#4.2.7.1">Label for views on sheets (Viewport)</a></li>
<li>2.7.2 <a href="#4.2.7.2">Callout view</a></li>
<li>2.7.3 <a href="#4.2.7.3">Grids in 3D views</a></li>
</ul>
<li>2.8 <a href="#4.2.8">Graphics API additions</a></li>
<ul class="toc">
<li>2.8.1 <a href="#4.2.8.1">Temporary in-canvas graphics</a></li>
</ul>
<li>2.9 <a href="#4.2.9">Label API additions</a></li>
<li>2.10 <a href="#4.2.10">Parameter API additions</a></li>
<li>2.11 <a href="#4.2.11">Dimension API additions</a></li>
<ul class="toc">
<li>2.11.1 <a href="#4.2.11.1">Dimension layout</a></li>
<li>2.11.2 <a href="#4.2.11.2">DimensionType prefix/suffix</a></li>
</ul>
<li>2.12 <a href="#4.2.12">Category API additions</a></li>
<ul class="toc">
<li>2.12.1 <a href="#4.2.12.1">Built in Categories</a></li>
</ul>
<li>2.13 <a href="#4.2.13">Shared Coordinates API additions</a></li>
<ul class="toc">
<li>2.13.1 <a href="#4.2.13.1">Reset Shared Coordinates</a></li>
<li>2.13.2 <a href="#4.2.13.2">Clipped state of BasePoint</a></li>
</ul>
<li>2.14 <a href="#4.2.14">Revision API additions</a></li>
<li>2.15 <a href="#4.2.15">Phasing API additions</a></li>
<li>2.16 <a href="#4.2.16">Geometry API additions</a></li>
<li>2.17 <a href="#4.2.17">Point Cloud API additions</a></li>
<li>2.18 <a href="#4.2.18">Schedule API additions</a></li>
<ul class="toc">
<li>2.18.1 <a href="#4.2.18.1">Multiple Value Indication &ndash; schedule customization</a></li>
</ul>
<li>2.19 <a href="#4.2.19">Import API additions</a></li>
<ul class="toc">
<li>2.19.1 <a href="#4.2.19.1">Import/Link Rhino</a></li>
</ul>
<li>2.20 <a href="#4.2.20">Structural API additions</a></li>
<ul class="toc">
<li>2.20.1 <a href="#4.2.20.1">Moving individual rebar in a Rebar Set</a></li>
<li>2.20.2 <a href="#4.2.20.2">Removing individual bars from a Rebar Set</a></li>
<li>2.20.3 <a href="#4.2.20.3">Moving and Removing bars owned by PathReinforcement</a></li>
<li>2.20.4 <a href="#4.2.20.4">Area Reinforcement Layers</a></li>
<li>2.20.5 <a href="#4.2.20.5">Rebar conversion</a></li>
<li>2.20.6 <a href="#4.2.20.6">Rebar geometry</a></li>
<li>2.20.7 <a href="#4.2.20.7">Freeform Rebar</a></li>
</ul>
<li>2.21 <a href="#4.2.21">MEP API additions</a></li>
<ul class="toc">
<li>2.21.1 <a href="#4.2.21.1">Building and Space Type additions</a></li>
<li>2.21.2 <a href="#4.2.21.2">Zone additions</a></li>
<li>2.21.3 <a href="#4.2.21.3">Mechanical Systems Analysis Set Points</a></li>
<li>2.21.4 <a href="#4.2.21.4">Analysis Report Style</a></li>
<li>2.21.5 <a href="#4.2.21.5">MEP Hidden Line Settings</a></li>
<li>2.21.6 <a href="#4.2.21.6">Electrical Panel Schedule</a></li>
<li>2.21.7 <a href="#4.2.21.7">Conversion to Fabrication</a></li>
</ul>
<li>2.22 <a href="#4.2.22">Energy Analysis API additions</a></li>
</ul>
</ul>

<a name="4.2"></a><h1 class="new" style="font-weight: bold">API Additions to the Revit 2022.1 API</h1>
<a name="4.2.1"></a><h2 class="new">2.1.	View API additions</h2>
<a name="4.2.1.1."></a><h3 class="new">2.1.1.	Duplicating Sheets</h3>
<a name="4.2.2."></a><h2 class="new">2.2.	Schedule API additions</h2>
<a name="4.2.2.1."></a><h3 class="new">2.2.1.	Schedule heights on sheets</h3>
<a name="4.2.2.2."></a><h3 class="new">2.2.2.	Managing schedule segments</h3>
<a name="4.2.3."></a><h2 class="new">2.3.	Worksharing API additions</h2>
<a name="4.2.3.1."></a><h3 class="new">2.3.1.	Delete Workset API</h3>
<a name="4.2.4."></a><h2 class="new">2.4.	Import and Export API additions</h2>
<a name="4.2.4.1."></a><h3 class="new">2.4.1.	AXM Import</h3>
<a name="4.2.4.2."></a><h3 class="new">2.4.2.	OBJ & STL import/export</h3>


</ul>

<p></p>

<center>
<div style="border-style:solid; border-width:2px 0px 2px 0px">
<a name="4.2"></a><h1 class="new" style="font-weight: bold">API Additions to the Revit 2022.1 API</h1>
</div>
</center>

<a name="4.2.1"></a><h2 class="new">2.1.	View API additions</h2>

<a name="4.2.1.1."></a><h3 class="new">2.1.1.	Duplicating Sheets</h3>

The new enum:

- SheetDuplicateOption

allows you to indicate what information should be copied when duplicating a sheet. Its values are:

- DuplicateEmptySheet &ndash; Only copies the title block.
- DuplicateSheetWithDetailing &ndash; Copies the title block and details.
- DuplicateSheetWithViewsOnly &ndash; Copies the title block, details, viewports and contained views. The newly created sheet will reference the newly duplicated views.
- DuplicateSheetWithViewsAndDetailing &ndash; Copies the title block, details, and viewports. Duplicates the sheet's contained views with detailing. The newly created sheet will reference the newly duplicated views.
- DuplicateSheetWithViewsAsDependent &ndash; Copies the title block, details, and viewports. Duplicates the sheet's contained views as dependent. The newly created sheet will reference the newly duplicated dependent views.

The new methods:

- ViewSheet.Duplicate(SheetDuplicateOption)
- ViewSheet.CanBeDuplicated(SheetDuplicateOption)

allow you to duplicate sheets and identify sheets which can be duplicated.

<a name="4.2.2."></a><h2 class="new">2.2.	Schedule API additions</h2>
<a name="4.2.2.1."></a><h3 class="new">2.2.1.	Schedule heights on sheets</h3>

The new class:

- Autodesk.Revit.DB.ScheduleHeightsOnSheet

returns the heights of schedule title, column header and each body row on sheet view.

The new method:

- ViewSchedule.GetScheduleHeightsOnSheet()

will return the heights object.

<a name="4.2.2.2."></a><h3 class="new">2.2.2.	Managing schedule segments</h3>
The new methods:

- ViewSchedule.IsSplit()
- ViewSchedule.Split(int segmentNumber)
- ViewSchedule.Split(IList<double> segmentHeights)
- ViewSchedule.SplitSegment()
- ViewSchedule.DeleteSegment()
- ViewSchedule.MergeSegments()
- ViewSchedule.GetSegmentCount()
- ViewSchedule.GetSegmentHeight()
- ViewSchedule.SetSegmentHeight()

provide the ability to split schedules and manage schedule segments.

The new method:

- ViewSchedule.GetScheduleInstances()

will return the schedule sheet instances for a schedule segment.

The new methods:

- ScheduleSheetInstance.SegmentIndex
- ScheduleSheetInstance.Create(Document document, ElementId viewSheetId, ElementId scheduleId, XYZ origin, int segmentIndex)

provide the ability to place a schedule segment on sheet and to get and set the schedule segment instance's segment index.

<a name="4.2.3."></a><h2 class="new">2.3.	Worksharing API additions</h2>
<a name="4.2.3.1."></a><h3 class="new">2.3.1.	Delete Workset API</h3>

The new method:

- WorksetTable.DeleteWorkset()

supports deleting of worksets from the model.  It takes a DeleteWorksetSettings input with options for what to do with elements contained by that workset.

<a name="4.2.4."></a><h2 class="new">2.4.	Import and Export API additions</h2>
<a name="4.2.4.1."></a><h3 class="new">2.4.1.	AXM Import</h3>

The new class:

- Autodesk.Revit.DB.AXMImportOptions

allows user to determine the import options when importing an AXM file.

The new method:

- Document.Import(String, AXMImportOptions, View)

imports an AXM file into the document.

The new method:

- OptionalFunctionalityUtils.IsAXMImportLinkAvailable()

checks if the Import FormIt function is available.

<a name="4.2.4.2."></a><h3 class="new">2.4.2.	OBJ & STL import/export</h3>

The new method:

- Document.Export(String, String, OBJExportOptions)

supports export of Revit geometry to OBJ format.  It uses a new class containing the options available for export:

- OBJExportOptions.TargetUnit
- OBJExportOptions.SurfaceTolerance
- OBJExportOptions.NormalTolerance
- OBJExportOptions.MaxEdgeLength
- OBJExportOptions.GridAspectRatio
- OBJExportOptions.SetTessellationSettings()

The new methods:

- Document.Import(String, OBJImportOptions, View)
- Document.Import(String, STLImportOptions, View)

provide support for importing files of STL and OBJ formats.  These methods use new classes representing the options for each of the new formats.

The new property:

- BaseImportOptions.DefaultLengthUnit

supports specification of a default length unit to use during import of unitless STL and OBJ files.

