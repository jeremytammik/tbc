<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>
</head>

<!---


twitter:

 the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon 

&ndash; 
...

linkedin:

#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<center>
<img src="img/" alt="" title="" width="600"/>
<p style="font-size: 80%; font-style:italic"></p>
</center>

-->

### Structural API and TBC Samples 2023




####<a name="2"></a> Migrating The Building Coder Samples


####<a name="3"></a> Revit 2023 Structural API



<center>
<img src="img/.png" alt="" title="" width="100"/> <!-- 2216 -->
</center>



https://autodesk.slack.com/archives/C0SR6NAP8/p1650388044451449


Autodesk Main











bid-guild-api


bid-guild-api

Revit API Questions




234

Boris Shafiro  17:23
API Studio Recording (2022-04-19):
https://share.autodesk.com/:v:/r/sites/BID/BID%20Documents/Building%20Design%20Products/Guilds/API/API%20Studio%20Recordings/2022/2022-04-19-API-Studio-Recording.mp4?csf=1&web=1&e=2THEGX
Agenda: New FamilyInstance creation API proposal. Oleg Sheydvasser, Ivan Dobrianov.

Jeremy Tammik  19:07
I am aware of significant und hard, sudden changes to the Structural API in Revit 2023. Question: how does one migrate the obsolete method GetAnalyticalModel to the new framework? I looked at the ContextualAnalyticalModel Revit 2023 SDK sample and found no hints there. I studied the Revit Platform API Changes and Additions.docx document included with the Revit 2023 SDK and found no answer there either. Where else can I look, please?



9 replies
Last reply today at 06:41View thread

Greg Marr  19:11
We have a report that our plugin that won't load in Revit 2021.  It is loading in the versions that we have installed on our dev machines.  Is there a way that we can test this on a clean machine with no developer tools installed?  For example, can we get an ECS Vapor machine with Revit 2021 preloaded?


2 replies
Last reply 1 day agoView thread

Jeremy Tammik  10:50
replied to a thread:
Translation for LabelUtils.GetLabelForSpec()? Is there any way to obtain specific language labels via the API? Thx! -- https://forums.autodesk.com/t5/revit-api-forum/translation-for-labelutils-getlabelforspec/m-p/11089570
The developer asks: Is there any news on this topic? Otherwise, I will just use my own string list, no big problem...
View newer replies

Jeremy Tammik  13:57
replied to a thread:
I am aware of significant und hard, sudden changes to the Structural API in Revit 2023. Question: how does one migrate the obsolete method GetAnalyticalModel to the new framework? I looked at the ContextualAnalyticalModel Revit 2023 SDK sample and found no hints there. I studied the Revit Platform API Changes and Additions.docx document included with the Revit 2023 SDK and found no answer there either. Where else can I look, please?
@Romeo Belciug, are you aware of any other documentation that we can share with the add-in developer community to explain and introduce the changes? Or should I just publish a blog post pointing to this material that you already highlighted? Is that sufficient, or do we have anything else?
View newer replies

Jeremy Tammik  15:17
A problem with DB.NurbSpline.Create; the resulting curve does not visualise control points. Created manually, NurbSpline elements are generated. The API generates HermiteSpline elements instead, even though the code is using DB.NurbSpline.Create. How can this be fixed, please? Should a Jira issue be submitted? Thank you! -- https://forums.autodesk.com/t5/revit-api-forum/db-nurbspline-create-does-not-visualize-control-points/m-p/11116351

Autodesk Community
DB.NurbSpline.Create does not visualize control points
Dear RevitAPI,I have built a DB.Floor using two lines and two splines programmatically. I was expecting to find the control points available to me once done, but they aren't, as you see in this picture. What really should happen is this (manually designed Spline on the Floor's sketch plane). You see I can see the 4 control points, add some, delete some, change some. â€ƒ The code I used to generate the floor is the following.     with DB.Transaction(doc,
Yesterday at 12:33


2 replies
Last reply today at 13:42View thread


Message bid-guild-api







Return to add a new line
Thread
bid-guild-api


Jeremy Tammik 19 Apr at 19:07
I am aware of significant und hard, sudden changes to the Structural API in Revit 2023. Question: how does one migrate the obsolete method GetAnalyticalModel to the new framework? I looked at the ContextualAnalyticalModel Revit 2023 SDK sample and found no hints there. I studied the Revit Platform API Changes and Additions.docx document included with the Revit 2023 SDK and found no answer there either. Where else can I look, please?
9 replies

Romeo Belciug:spiral_calendar_pad:  1 day ago
Hello @Jeremy Tammik. Please see this help page where you can find some samples at the bottom of it (https://help.autodesk.com/view/RVT/2023/ENU/?guid=GUID-A1157199-4E27-41F9-BF45-53A5CD79E9A1). The sample which describes how to access the analytical element for a given physical element is in the section named: Gets the associated analytical element for a physical one. The bottom line is that the relation between physical element and analytical element can now be edited (in the old approach this was not possible) and the class which handles these relations is called AnalyticalToPhysicalAssociationManager. (edited) 

Jeremy Tammik  1 day ago
thank you for the good link, @Romeo Belciug!
Also sent to the channel

Jeremy Tammik  24 hours ago
@Romeo Belciug, are you aware of any other documentation that we can share with the add-in developer community to explain and introduce the changes? Or should I just publish a blog post pointing to this material that you already highlighted? Is that sufficient, or do we have anything else?

Romeo Belciug:spiral_calendar_pad:  24 hours ago
Hello @Jeremy Tammik, I know that there should be an article about Analytical Model changes but I don't know if it's ready. I think that @Diane Christoforo should know more about this subject. (edited) 

Diane Christoforo  23 hours ago
Jeremy, I'm sorry for the delay - we are a few days out from publishing the 2023 API developers guide with the online help.

Jeremy Tammik  23 hours ago
Thank you for the good news, @Diane Christoforo! Can you point out the relevant items as soon as they appear, please? Thank you!

Jeremy Tammik  21 hours ago
So, is it correct to assume that the following code makes no sense at all any longer in Revit 2023 and needs to be completely rewritten:
  var am = wall.GetAnalyticalModel();

  foreach (var ct in CurveTypes)
  {
    var curves = am.GetCurves(ct);
    var n = curves.Count;

    Debug.Print("{0} {1} curve{2}.",
      n, ct, Util.PluralSuffix(n));

    foreach (var curve in curves)
      creator.CreateModelCurve(curve.CreateTransformed(T));
  }
There is no meaningful way to migrate it, since the basic concepts changed?

Diane Christoforo  19 hours ago
Yes, I will!

Romeo Belciug:spiral_calendar_pad:  7 hours ago
Hi related to the sample above, yes, most of the code must be rewritten.